/* ScreenshotWindow.c generated by valac 0.40.19, the Vala compiler
 * generated from ScreenshotWindow.vala, do not modify */

/*
* Copyright (c) 2014–2016 Fabio Zaramella <ffabio.96.x@gmail.com>
*               2017–2018 elementary LLC. (https://elementary.io)
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU Lesser General Public
* License version 3 as published by the Free Software Foundation.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
* Lesser General Public License for more details.
*
* You should have received a copy of the GNU Lesser General Public
* License along with this program; if not, write to the
* Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
* Boston, MA 02110-1301 USA
*/


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gio/gio.h>
#include <stdlib.h>
#include <string.h>
#include <float.h>
#include <math.h>
#include <granite.h>
#include <gdk/gdk.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <cairo.h>
#include <glib/gi18n-lib.h>
#include <canberra.h>


#define SCREENSHOT_TYPE_SCREENSHOT_WINDOW (screenshot_screenshot_window_get_type ())
#define SCREENSHOT_SCREENSHOT_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SCREENSHOT_TYPE_SCREENSHOT_WINDOW, ScreenshotScreenshotWindow))
#define SCREENSHOT_SCREENSHOT_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SCREENSHOT_TYPE_SCREENSHOT_WINDOW, ScreenshotScreenshotWindowClass))
#define SCREENSHOT_IS_SCREENSHOT_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SCREENSHOT_TYPE_SCREENSHOT_WINDOW))
#define SCREENSHOT_IS_SCREENSHOT_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SCREENSHOT_TYPE_SCREENSHOT_WINDOW))
#define SCREENSHOT_SCREENSHOT_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SCREENSHOT_TYPE_SCREENSHOT_WINDOW, ScreenshotScreenshotWindowClass))

typedef struct _ScreenshotScreenshotWindow ScreenshotScreenshotWindow;
typedef struct _ScreenshotScreenshotWindowClass ScreenshotScreenshotWindowClass;
typedef struct _ScreenshotScreenshotWindowPrivate ScreenshotScreenshotWindowPrivate;

#define SCREENSHOT_WIDGETS_TYPE_HEADER_BAR (screenshot_widgets_header_bar_get_type ())
#define SCREENSHOT_WIDGETS_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SCREENSHOT_WIDGETS_TYPE_HEADER_BAR, ScreenshotWidgetsHeaderBar))
#define SCREENSHOT_WIDGETS_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SCREENSHOT_WIDGETS_TYPE_HEADER_BAR, ScreenshotWidgetsHeaderBarClass))
#define SCREENSHOT_WIDGETS_IS_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SCREENSHOT_WIDGETS_TYPE_HEADER_BAR))
#define SCREENSHOT_WIDGETS_IS_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SCREENSHOT_WIDGETS_TYPE_HEADER_BAR))
#define SCREENSHOT_WIDGETS_HEADER_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SCREENSHOT_WIDGETS_TYPE_HEADER_BAR, ScreenshotWidgetsHeaderBarClass))

typedef struct _ScreenshotWidgetsHeaderBar ScreenshotWidgetsHeaderBar;
typedef struct _ScreenshotWidgetsHeaderBarClass ScreenshotWidgetsHeaderBarClass;

#define SCREENSHOT_WIDGETS_TYPE_PREVIEW_BOX (screenshot_widgets_preview_box_get_type ())
#define SCREENSHOT_WIDGETS_PREVIEW_BOX(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SCREENSHOT_WIDGETS_TYPE_PREVIEW_BOX, ScreenshotWidgetsPreviewBox))
#define SCREENSHOT_WIDGETS_PREVIEW_BOX_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SCREENSHOT_WIDGETS_TYPE_PREVIEW_BOX, ScreenshotWidgetsPreviewBoxClass))
#define SCREENSHOT_WIDGETS_IS_PREVIEW_BOX(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SCREENSHOT_WIDGETS_TYPE_PREVIEW_BOX))
#define SCREENSHOT_WIDGETS_IS_PREVIEW_BOX_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SCREENSHOT_WIDGETS_TYPE_PREVIEW_BOX))
#define SCREENSHOT_WIDGETS_PREVIEW_BOX_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SCREENSHOT_WIDGETS_TYPE_PREVIEW_BOX, ScreenshotWidgetsPreviewBoxClass))

typedef struct _ScreenshotWidgetsPreviewBox ScreenshotWidgetsPreviewBox;
typedef struct _ScreenshotWidgetsPreviewBoxClass ScreenshotWidgetsPreviewBoxClass;
typedef enum  {
	SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_SCREEN,
	SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_CURRENT_WINDOW,
	SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_AREA
} ScreenshotScreenshotWindowCaptureType;


#define SCREENSHOT_SCREENSHOT_WINDOW_TYPE_CAPTURE_TYPE (screenshot_screenshot_window_capture_type_get_type ())
enum  {
	SCREENSHOT_SCREENSHOT_WINDOW_0_PROPERTY,
	SCREENSHOT_SCREENSHOT_WINDOW_CLOSE_ON_SAVE_PROPERTY,
	SCREENSHOT_SCREENSHOT_WINDOW_MOUSE_POINTER_PROPERTY,
	SCREENSHOT_SCREENSHOT_WINDOW_REDACT_PROPERTY,
	SCREENSHOT_SCREENSHOT_WINDOW_NUM_PROPERTIES
};
static GParamSpec* screenshot_screenshot_window_properties[SCREENSHOT_SCREENSHOT_WINDOW_NUM_PROPERTIES];
typedef enum  {
	SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_SCREEN,
	SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_AREA
} ScreenshotScreenshotWindowCaptureTypeNew;


#define SCREENSHOT_SCREENSHOT_WINDOW_TYPE_CAPTURE_TYPE_NEW (screenshot_screenshot_window_capture_type_new_get_type ())
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define SCREENSHOT_WIDGETS_TYPE_SELECTION_AREA (screenshot_widgets_selection_area_get_type ())
#define SCREENSHOT_WIDGETS_SELECTION_AREA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SCREENSHOT_WIDGETS_TYPE_SELECTION_AREA, ScreenshotWidgetsSelectionArea))
#define SCREENSHOT_WIDGETS_SELECTION_AREA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SCREENSHOT_WIDGETS_TYPE_SELECTION_AREA, ScreenshotWidgetsSelectionAreaClass))
#define SCREENSHOT_WIDGETS_IS_SELECTION_AREA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SCREENSHOT_WIDGETS_TYPE_SELECTION_AREA))
#define SCREENSHOT_WIDGETS_IS_SELECTION_AREA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SCREENSHOT_WIDGETS_TYPE_SELECTION_AREA))
#define SCREENSHOT_WIDGETS_SELECTION_AREA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SCREENSHOT_WIDGETS_TYPE_SELECTION_AREA, ScreenshotWidgetsSelectionAreaClass))

typedef struct _ScreenshotWidgetsSelectionArea ScreenshotWidgetsSelectionArea;
typedef struct _ScreenshotWidgetsSelectionAreaClass ScreenshotWidgetsSelectionAreaClass;
typedef struct _Block2Data Block2Data;
typedef struct _ScreenshotWidgetsSelectionAreaPrivate ScreenshotWidgetsSelectionAreaPrivate;
typedef struct _Block3Data Block3Data;
typedef struct _Block4Data Block4Data;

#define SCREENSHOT_WIDGETS_TYPE_SAVE_DIALOG (screenshot_widgets_save_dialog_get_type ())
#define SCREENSHOT_WIDGETS_SAVE_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SCREENSHOT_WIDGETS_TYPE_SAVE_DIALOG, ScreenshotWidgetsSaveDialog))
#define SCREENSHOT_WIDGETS_SAVE_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SCREENSHOT_WIDGETS_TYPE_SAVE_DIALOG, ScreenshotWidgetsSaveDialogClass))
#define SCREENSHOT_WIDGETS_IS_SAVE_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SCREENSHOT_WIDGETS_TYPE_SAVE_DIALOG))
#define SCREENSHOT_WIDGETS_IS_SAVE_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SCREENSHOT_WIDGETS_TYPE_SAVE_DIALOG))
#define SCREENSHOT_WIDGETS_SAVE_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SCREENSHOT_WIDGETS_TYPE_SAVE_DIALOG, ScreenshotWidgetsSaveDialogClass))

typedef struct _ScreenshotWidgetsSaveDialog ScreenshotWidgetsSaveDialog;
typedef struct _ScreenshotWidgetsSaveDialogClass ScreenshotWidgetsSaveDialogClass;
typedef struct _Block5Data Block5Data;
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
typedef struct _Block6Data Block6Data;
typedef struct _Block7Data Block7Data;
#define _ca_context_destroy0(var) ((var == NULL) ? NULL : (var = (ca_context_destroy (var), NULL)))
#define _ca_proplist_destroy0(var) ((var == NULL) ? NULL : (var = (ca_proplist_destroy (var), NULL)))
typedef struct _ScreenshotWidgetsHeaderBarPrivate ScreenshotWidgetsHeaderBarPrivate;

struct _ScreenshotScreenshotWindow {
	GtkApplicationWindow parent_instance;
	ScreenshotScreenshotWindowPrivate * priv;
};

struct _ScreenshotScreenshotWindowClass {
	GtkApplicationWindowClass parent_class;
};

struct _ScreenshotScreenshotWindowPrivate {
	ScreenshotWidgetsHeaderBar* header;
	ScreenshotWidgetsPreviewBox* preview_box;
	GSettings* settings;
	ScreenshotScreenshotWindowCaptureType capture_mode;
	gchar* prev_font_regular;
	gchar* prev_font_document;
	gchar* prev_font_mono;
	gboolean from_command;
	gint delay;
	gboolean to_clipboard;
	gint window_x;
	gint window_y;
	gboolean _close_on_save;
	gboolean _mouse_pointer;
	gboolean _redact;
};

struct _Block2Data {
	int _ref_count_;
	ScreenshotScreenshotWindow* self;
	ScreenshotWidgetsSelectionArea* selection_area;
	GdkWindow* win;
};

struct _ScreenshotWidgetsSelectionArea {
	GraniteWidgetsCompositedWindow parent_instance;
	ScreenshotWidgetsSelectionAreaPrivate * priv;
	ScreenshotScreenshotWindowCaptureTypeNew capture_mode;
};

struct _ScreenshotWidgetsSelectionAreaClass {
	GraniteWidgetsCompositedWindowClass parent_class;
};

struct _Block3Data {
	int _ref_count_;
	ScreenshotScreenshotWindow* self;
	GdkWindow* win;
	ScreenshotScreenshotWindowCaptureTypeNew capture_mode;
};

struct _Block4Data {
	int _ref_count_;
	ScreenshotScreenshotWindow* self;
	GdkPixbuf* screenshot;
	GdkWindow* win;
};

struct _Block5Data {
	int _ref_count_;
	Block4Data * _data4_;
	ScreenshotWidgetsSaveDialog* save_dialog;
};

struct _Block6Data {
	int _ref_count_;
	ScreenshotScreenshotWindow* self;
	GdkScreen* screen;
	GdkWindow* win;
	GList* list;
};

struct _Block7Data {
	int _ref_count_;
	ScreenshotScreenshotWindow* self;
	ScreenshotWidgetsSelectionArea* selection_area;
	GdkWindow* win;
};

struct _ScreenshotWidgetsHeaderBar {
	GtkHeaderBar parent_instance;
	ScreenshotWidgetsHeaderBarPrivate * priv;
	GtkButton* take_screenshot_button;
};

struct _ScreenshotWidgetsHeaderBarClass {
	GtkHeaderBarClass parent_class;
};


static gpointer screenshot_screenshot_window_parent_class = NULL;

GType screenshot_screenshot_window_get_type (void) G_GNUC_CONST;
GType screenshot_widgets_header_bar_get_type (void) G_GNUC_CONST;
GType screenshot_widgets_preview_box_get_type (void) G_GNUC_CONST;
GType screenshot_screenshot_window_capture_type_get_type (void) G_GNUC_CONST;
#define SCREENSHOT_SCREENSHOT_WINDOW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SCREENSHOT_TYPE_SCREENSHOT_WINDOW, ScreenshotScreenshotWindowPrivate))
GType screenshot_screenshot_window_capture_type_new_get_type (void) G_GNUC_CONST;
ScreenshotScreenshotWindow* screenshot_screenshot_window_new (void);
ScreenshotScreenshotWindow* screenshot_screenshot_window_construct (GType object_type);
void screenshot_screenshot_window_take_screenshot_clicked (ScreenshotScreenshotWindow* self);
static void screenshot_screenshot_window_take_screenshot (ScreenshotScreenshotWindow* self);
GType screenshot_widgets_selection_area_get_type (void) G_GNUC_CONST;
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
ScreenshotWidgetsSelectionArea* screenshot_widgets_selection_area_new (void);
ScreenshotWidgetsSelectionArea* screenshot_widgets_selection_area_construct (GType object_type);
static void screenshot_screenshot_window_remember_window_position (ScreenshotScreenshotWindow* self);
static void __lambda4_ (Block2Data* _data2_);
void screenshot_widgets_selection_area_close (ScreenshotWidgetsSelectionArea* self);
static void ___lambda4__screenshot_widgets_selection_area_cancelled (ScreenshotWidgetsSelectionArea* _sender,
                                                              gpointer self);
static void __lambda5_ (Block2Data* _data2_);
static gint screenshot_screenshot_window_get_timeout (ScreenshotScreenshotWindow* self,
                                               gint delay,
                                               gboolean redact);
gboolean screenshot_screenshot_window_get_redact (ScreenshotScreenshotWindow* self);
static gboolean __lambda6_ (Block2Data* _data2_);
static gboolean screenshot_screenshot_window_grab_save_NEW (ScreenshotScreenshotWindow* self,
                                                     GdkWindow* win,
                                                     ScreenshotScreenshotWindowCaptureTypeNew capture_mode,
                                                     gboolean extra_time);
static gboolean ___lambda6__gsource_func (gpointer self);
static void ___lambda5__screenshot_widgets_selection_area_captured (ScreenshotWidgetsSelectionArea* _sender,
                                                             gpointer self);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
static void screenshot_screenshot_window_redact_text (ScreenshotScreenshotWindow* self,
                                               gboolean redact);
static gboolean ___lambda7_ (Block3Data* _data3_);
static gboolean ____lambda7__gsource_func (gpointer self);
static gboolean __lambda8_ (ScreenshotScreenshotWindow* self);
static gboolean ___lambda8__gsource_func (gpointer self);
static void screenshot_screenshot_window_show_error_dialog (ScreenshotScreenshotWindow* self);
static void screenshot_screenshot_window_play_shutter_sound (ScreenshotScreenshotWindow* self,
                                                      const gchar* id,
                                                      const gchar* desc);
void screenshot_widgets_preview_box_update (ScreenshotWidgetsPreviewBox* self,
                                            GdkPixbuf* screenshot);
ScreenshotScreenshotWindow* screenshot_screenshot_window_new_from_cmd (gint* action,
                                                                       gint* delay,
                                                                       gboolean* grab_pointer,
                                                                       gboolean* redact,
                                                                       gboolean* clipboard);
ScreenshotScreenshotWindow* screenshot_screenshot_window_construct_from_cmd (GType object_type,
                                                                             gint* action,
                                                                             gint* delay,
                                                                             gboolean* grab_pointer,
                                                                             gboolean* redact,
                                                                             gboolean* clipboard);
void screenshot_screenshot_window_set_mouse_pointer (ScreenshotScreenshotWindow* self,
                                                     gboolean value);
void screenshot_screenshot_window_set_redact (ScreenshotScreenshotWindow* self,
                                              gboolean value);
void screenshot_screenshot_window_set_close_on_save (ScreenshotScreenshotWindow* self,
                                                     gboolean value);
static gboolean screenshot_screenshot_window_grab_save (ScreenshotScreenshotWindow* self,
                                                 GdkWindow* win,
                                                 gboolean extra_time);
static Block4Data* block4_data_ref (Block4Data* _data4_);
static void block4_data_unref (void * _userdata_);
static gboolean ___lambda9_ (Block4Data* _data4_);
static gboolean ____lambda9__gsource_func (gpointer self);
static gboolean __lambda10_ (ScreenshotScreenshotWindow* self);
static gboolean ___lambda10__gsource_func (gpointer self);
gboolean screenshot_screenshot_window_get_mouse_pointer (ScreenshotScreenshotWindow* self);
GType screenshot_widgets_save_dialog_get_type (void) G_GNUC_CONST;
static Block5Data* block5_data_ref (Block5Data* _data5_);
static void block5_data_unref (void * _userdata_);
ScreenshotWidgetsSaveDialog* screenshot_widgets_save_dialog_new (GdkPixbuf* pixbuf,
                                                                 GSettings* settings,
                                                                 GtkWindow* parent);
ScreenshotWidgetsSaveDialog* screenshot_widgets_save_dialog_construct (GType object_type,
                                                                       GdkPixbuf* pixbuf,
                                                                       GSettings* settings,
                                                                       GtkWindow* parent);
static void ___lambda17_ (Block5Data* _data5_,
                   gboolean response,
                   const gchar* folder_dir,
                   const gchar* output_name,
                   const gchar* format);
static void screenshot_screenshot_window_save_file (ScreenshotScreenshotWindow* self,
                                             const gchar* file_name,
                                             const gchar* format,
                                             gchar* folder_dir,
                                             GdkPixbuf* screenshot,
                                             GError** error);
gboolean screenshot_screenshot_window_get_close_on_save (ScreenshotScreenshotWindow* self);
static void ____lambda17__screenshot_widgets_save_dialog_save_response (ScreenshotWidgetsSaveDialog* _sender,
                                                                 gboolean response,
                                                                 const gchar* folder_dir,
                                                                 const gchar* output_name,
                                                                 const gchar* format,
                                                                 gpointer self);
static void ___lambda18_ (ScreenshotScreenshotWindow* self);
static void ____lambda18__gtk_dialog_close (GtkDialog* _sender,
                                     gpointer self);
#define SCREENSHOT_SCREENSHOT_APP_SAVE_FOLDER _ ("Screenshots")
void screenshot_screenshot_app_create_dir_if_missing (const gchar* path);
void screenshot_screenshot_window_take_clicked (ScreenshotScreenshotWindow* self);
static void screenshot_screenshot_window_capture_screen (ScreenshotScreenshotWindow* self);
static void screenshot_screenshot_window_capture_window (ScreenshotScreenshotWindow* self);
static void screenshot_screenshot_window_capture_area (ScreenshotScreenshotWindow* self);
static gboolean __lambda19_ (ScreenshotScreenshotWindow* self);
static gboolean ___lambda19__gsource_func (gpointer self);
static Block6Data* block6_data_ref (Block6Data* _data6_);
static void _g_object_unref0_ (gpointer var);
static inline void _g_list_free__g_object_unref0_ (GList* self);
static void block6_data_unref (void * _userdata_);
static gboolean __lambda20_ (Block6Data* _data6_);
static gboolean ___lambda20__gsource_func (gpointer self);
static Block7Data* block7_data_ref (Block7Data* _data7_);
static void block7_data_unref (void * _userdata_);
static void __lambda21_ (Block7Data* _data7_);
static void ___lambda21__screenshot_widgets_selection_area_cancelled (ScreenshotWidgetsSelectionArea* _sender,
                                                               gpointer self);
static void __lambda22_ (Block7Data* _data7_);
static gboolean __lambda23_ (Block7Data* _data7_);
static gboolean ___lambda23__gsource_func (gpointer self);
static void ___lambda22__screenshot_widgets_selection_area_captured (ScreenshotWidgetsSelectionArea* _sender,
                                                              gpointer self);
static void screenshot_screenshot_window_close_clicked (ScreenshotScreenshotWindow* self);
static GObject * screenshot_screenshot_window_constructor (GType type,
                                                    guint n_construct_properties,
                                                    GObjectConstructParam * construct_properties);
ScreenshotWidgetsHeaderBar* screenshot_widgets_header_bar_new (void);
ScreenshotWidgetsHeaderBar* screenshot_widgets_header_bar_construct (GType object_type);
static void _screenshot_screenshot_window_take_screenshot_clicked_gtk_button_clicked (GtkButton* _sender,
                                                                               gpointer self);
ScreenshotWidgetsPreviewBox* screenshot_widgets_preview_box_new (void);
ScreenshotWidgetsPreviewBox* screenshot_widgets_preview_box_construct (GType object_type);
static void screenshot_screenshot_window_finalize (GObject * obj);
static void _vala_screenshot_screenshot_window_get_property (GObject * object,
                                                      guint property_id,
                                                      GValue * value,
                                                      GParamSpec * pspec);
static void _vala_screenshot_screenshot_window_set_property (GObject * object,
                                                      guint property_id,
                                                      const GValue * value,
                                                      GParamSpec * pspec);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);


GType
screenshot_screenshot_window_capture_type_get_type (void)
{
	static volatile gsize screenshot_screenshot_window_capture_type_type_id__volatile = 0;
	if (g_once_init_enter (&screenshot_screenshot_window_capture_type_type_id__volatile)) {
		static const GEnumValue values[] = {{SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_SCREEN, "SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_SCREEN", "screen"}, {SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_CURRENT_WINDOW, "SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_CURRENT_WINDOW", "current-window"}, {SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_AREA, "SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_AREA", "area"}, {0, NULL, NULL}};
		GType screenshot_screenshot_window_capture_type_type_id;
		screenshot_screenshot_window_capture_type_type_id = g_enum_register_static ("ScreenshotScreenshotWindowCaptureType", values);
		g_once_init_leave (&screenshot_screenshot_window_capture_type_type_id__volatile, screenshot_screenshot_window_capture_type_type_id);
	}
	return screenshot_screenshot_window_capture_type_type_id__volatile;
}


GType
screenshot_screenshot_window_capture_type_new_get_type (void)
{
	static volatile gsize screenshot_screenshot_window_capture_type_new_type_id__volatile = 0;
	if (g_once_init_enter (&screenshot_screenshot_window_capture_type_new_type_id__volatile)) {
		static const GEnumValue values[] = {{SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_SCREEN, "SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_SCREEN", "screen"}, {SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_AREA, "SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_AREA", "area"}, {0, NULL, NULL}};
		GType screenshot_screenshot_window_capture_type_new_type_id;
		screenshot_screenshot_window_capture_type_new_type_id = g_enum_register_static ("ScreenshotScreenshotWindowCaptureTypeNew", values);
		g_once_init_leave (&screenshot_screenshot_window_capture_type_new_type_id__volatile, screenshot_screenshot_window_capture_type_new_type_id);
	}
	return screenshot_screenshot_window_capture_type_new_type_id__volatile;
}


ScreenshotScreenshotWindow*
screenshot_screenshot_window_construct (GType object_type)
{
	ScreenshotScreenshotWindow * self = NULL;
#line 56 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = (ScreenshotScreenshotWindow*) g_object_new (object_type, "border-width", 6, NULL);
#line 60 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self->priv->to_clipboard = FALSE;
#line 55 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return self;
#line 416 "ScreenshotWindow.c"
}


ScreenshotScreenshotWindow*
screenshot_screenshot_window_new (void)
{
#line 55 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return screenshot_screenshot_window_construct (SCREENSHOT_TYPE_SCREENSHOT_WINDOW);
#line 425 "ScreenshotWindow.c"
}


void
screenshot_screenshot_window_take_screenshot_clicked (ScreenshotScreenshotWindow* self)
{
#line 227 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 228 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_set_opacity ((GtkWindow*) self, (gdouble) 0);
#line 229 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_take_screenshot (self);
#line 438 "ScreenshotWindow.c"
}


static Block2Data*
block2_data_ref (Block2Data* _data2_)
{
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_atomic_int_inc (&_data2_->_ref_count_);
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return _data2_;
#line 449 "ScreenshotWindow.c"
}


static void
block2_data_unref (void * _userdata_)
{
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
#line 460 "ScreenshotWindow.c"
		ScreenshotScreenshotWindow* self;
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self = _data2_->self;
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data2_->win);
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data2_->selection_area);
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (self);
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_slice_free (Block2Data, _data2_);
#line 472 "ScreenshotWindow.c"
	}
}


static void
__lambda4_ (Block2Data* _data2_)
{
	ScreenshotScreenshotWindow* self;
	gint _tmp0_;
	gint _tmp1_;
#line 238 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data2_->self;
#line 239 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_widgets_selection_area_close (_data2_->selection_area);
#line 240 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->window_x;
#line 240 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = self->priv->window_y;
#line 240 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_move ((GtkWindow*) self, _tmp0_, _tmp1_);
#line 241 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_set_opacity ((GtkWindow*) self, (gdouble) 1);
#line 242 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_present ((GtkWindow*) self);
#line 497 "ScreenshotWindow.c"
}


static void
___lambda4__screenshot_widgets_selection_area_cancelled (ScreenshotWidgetsSelectionArea* _sender,
                                                         gpointer self)
{
#line 238 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	__lambda4_ (self);
#line 507 "ScreenshotWindow.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 245 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return self ? g_object_ref (self) : NULL;
#line 516 "ScreenshotWindow.c"
}


static gboolean
__lambda6_ (Block2Data* _data2_)
{
	ScreenshotScreenshotWindow* self;
	gboolean result = FALSE;
	gint _tmp0_;
	gint _tmp1_;
	gboolean grap_result_status = FALSE;
	ScreenshotScreenshotWindowCaptureTypeNew _tmp2_;
#line 252 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data2_->self;
#line 253 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->window_x;
#line 253 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = self->priv->window_y;
#line 253 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_move ((GtkWindow*) self, _tmp0_, _tmp1_);
#line 254 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_present ((GtkWindow*) self);
#line 256 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	grap_result_status = FALSE;
#line 260 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp2_ = _data2_->selection_area->capture_mode;
#line 260 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	switch (_tmp2_) {
#line 260 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_SCREEN:
#line 547 "ScreenshotWindow.c"
		{
			ScreenshotScreenshotWindowCaptureTypeNew _tmp3_;
			gboolean _tmp4_;
#line 262 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			g_warning ("ScreenshotWindow.vala:262: capture screen");
#line 263 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp3_ = _data2_->selection_area->capture_mode;
#line 263 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp4_ = self->priv->_redact;
#line 263 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			grap_result_status = screenshot_screenshot_window_grab_save_NEW (self, NULL, _tmp3_, _tmp4_);
#line 265 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			break;
#line 561 "ScreenshotWindow.c"
		}
#line 260 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_AREA:
#line 565 "ScreenshotWindow.c"
		{
			ScreenshotScreenshotWindowCaptureTypeNew _tmp5_;
			gboolean _tmp6_;
#line 267 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			g_warning ("ScreenshotWindow.vala:267: capture area");
#line 268 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp5_ = _data2_->selection_area->capture_mode;
#line 268 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp6_ = self->priv->_redact;
#line 268 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			grap_result_status = screenshot_screenshot_window_grab_save_NEW (self, _data2_->win, _tmp5_, _tmp6_);
#line 270 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			break;
#line 579 "ScreenshotWindow.c"
		}
		default:
#line 260 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 584 "ScreenshotWindow.c"
	}
#line 272 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = grap_result_status;
#line 272 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 590 "ScreenshotWindow.c"
}


static gboolean
___lambda6__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda6_ (self);
#line 252 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 601 "ScreenshotWindow.c"
}


static void
__lambda5_ (Block2Data* _data2_)
{
	ScreenshotScreenshotWindow* self;
	gint _tmp0_;
	gint _tmp1_;
	gboolean _tmp2_;
#line 247 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data2_->self;
#line 248 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->delay;
#line 248 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp0_ == 0) {
#line 249 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_set_opacity ((GtkWindow*) _data2_->selection_area, (gdouble) 0);
#line 620 "ScreenshotWindow.c"
	}
#line 251 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_widgets_selection_area_close (_data2_->selection_area);
#line 252 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = self->priv->delay;
#line 252 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp2_ = self->priv->_redact;
#line 252 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) screenshot_screenshot_window_get_timeout (self, _tmp1_, _tmp2_), ___lambda6__gsource_func, block2_data_ref (_data2_), block2_data_unref);
#line 630 "ScreenshotWindow.c"
}


static void
___lambda5__screenshot_widgets_selection_area_captured (ScreenshotWidgetsSelectionArea* _sender,
                                                        gpointer self)
{
#line 247 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	__lambda5_ (self);
#line 640 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_take_screenshot (ScreenshotScreenshotWindow* self)
{
	Block2Data* _data2_;
	ScreenshotWidgetsSelectionArea* _tmp0_;
	GdkWindow* _tmp1_;
	GdkWindow* _tmp2_;
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data2_ = g_slice_new0 (Block2Data);
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data2_->_ref_count_ = 1;
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data2_->self = g_object_ref (self);
#line 233 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = screenshot_widgets_selection_area_new ();
#line 233 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_object_ref_sink (_tmp0_);
#line 233 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data2_->selection_area = _tmp0_;
#line 234 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_widget_show_all ((GtkWidget*) _data2_->selection_area);
#line 235 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_remember_window_position (self);
#line 236 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_widget_hide ((GtkWidget*) self);
#line 238 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_signal_connect_data (_data2_->selection_area, "cancelled", (GCallback) ___lambda4__screenshot_widgets_selection_area_cancelled, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 245 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = gtk_widget_get_window ((GtkWidget*) _data2_->selection_area);
#line 245 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 245 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data2_->win = _tmp2_;
#line 247 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_signal_connect_data (_data2_->selection_area, "captured", (GCallback) ___lambda5__screenshot_widgets_selection_area_captured, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	block2_data_unref (_data2_);
#line 232 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data2_ = NULL;
#line 685 "ScreenshotWindow.c"
}


static Block3Data*
block3_data_ref (Block3Data* _data3_)
{
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_atomic_int_inc (&_data3_->_ref_count_);
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return _data3_;
#line 696 "ScreenshotWindow.c"
}


static void
block3_data_unref (void * _userdata_)
{
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
#line 707 "ScreenshotWindow.c"
		ScreenshotScreenshotWindow* self;
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self = _data3_->self;
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data3_->win);
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (self);
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_slice_free (Block3Data, _data3_);
#line 717 "ScreenshotWindow.c"
	}
}


static gboolean
___lambda7_ (Block3Data* _data3_)
{
	ScreenshotScreenshotWindow* self;
	gboolean result = FALSE;
#line 294 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data3_->self;
#line 295 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = screenshot_screenshot_window_grab_save_NEW (self, _data3_->win, _data3_->capture_mode, FALSE);
#line 295 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 733 "ScreenshotWindow.c"
}


static gboolean
____lambda7__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda7_ (self);
#line 294 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 744 "ScreenshotWindow.c"
}


static gboolean
__lambda8_ (ScreenshotScreenshotWindow* self)
{
	gboolean result = FALSE;
	gboolean _tmp0_;
#line 302 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->from_command;
#line 302 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp0_ == FALSE) {
#line 303 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_set_opacity ((GtkWindow*) self, (gdouble) 1);
#line 759 "ScreenshotWindow.c"
	}
#line 305 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = FALSE;
#line 305 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 765 "ScreenshotWindow.c"
}


static gboolean
___lambda8__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda8_ ((ScreenshotScreenshotWindow*) self);
#line 301 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 776 "ScreenshotWindow.c"
}


static gboolean
screenshot_screenshot_window_grab_save_NEW (ScreenshotScreenshotWindow* self,
                                            GdkWindow* win,
                                            ScreenshotScreenshotWindowCaptureTypeNew capture_mode,
                                            gboolean extra_time)
{
	gboolean result = FALSE;
	Block3Data* _data3_;
	GdkWindow* _tmp0_;
	GdkRectangle win_rect = {0};
	GdkWindow* root = NULL;
	GdkWindow* _tmp1_;
	GdkWindow* _tmp2_;
	GdkPixbuf* screenshot = NULL;
	gint scale_factor = 0;
	gboolean _tmp49_;
	GdkPixbuf* _tmp50_;
	GdkDisplay* _tmp51_;
	GtkClipboard* _tmp52_;
	GdkPixbuf* _tmp53_;
	ScreenshotWidgetsPreviewBox* _tmp54_;
	GdkPixbuf* _tmp55_;
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data3_ = g_slice_new0 (Block3Data);
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data3_->_ref_count_ = 1;
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data3_->self = g_object_ref (self);
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = _g_object_ref0 (win);
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (_data3_->win);
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data3_->win = _tmp0_;
#line 291 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data3_->capture_mode = capture_mode;
#line 292 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (extra_time) {
#line 293 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_redact_text (self, TRUE);
#line 294 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_timeout_add_seconds_full (G_PRIORITY_DEFAULT, (guint) 1, ____lambda7__gsource_func, block3_data_ref (_data3_), block3_data_unref);
#line 298 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		result = FALSE;
#line 298 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		block3_data_unref (_data3_);
#line 298 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data3_ = NULL;
#line 298 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		return result;
#line 832 "ScreenshotWindow.c"
	}
#line 301 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 250, ___lambda8__gsource_func, g_object_ref (self), g_object_unref);
#line 308 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	memset (&win_rect, 0, sizeof (GdkRectangle));
#line 309 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = gdk_get_default_root_window ();
#line 309 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 309 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	root = _tmp2_;
#line 311 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_data3_->win == NULL) {
#line 846 "ScreenshotWindow.c"
		GdkWindow* _tmp3_;
		GdkWindow* _tmp4_;
#line 312 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp3_ = root;
#line 312 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp4_ = _g_object_ref0 (_tmp3_);
#line 312 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data3_->win);
#line 312 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data3_->win = _tmp4_;
#line 857 "ScreenshotWindow.c"
	}
#line 318 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	switch (_data3_->capture_mode) {
#line 318 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_AREA:
#line 863 "ScreenshotWindow.c"
		{
			GdkWindow* _tmp5_;
			GdkRectangle selection_rect = {0};
			GdkRectangle _tmp6_ = {0};
			GdkWindow* _tmp7_;
			GdkWindow* _tmp8_;
			GdkWindow* _tmp9_;
			GdkPixbuf* _tmp10_;
			GdkPixbuf* _tmp11_;
			GdkRectangle _tmp12_;
			gint _tmp13_;
			GdkRectangle _tmp14_;
			gint _tmp15_;
			GdkRectangle _tmp16_;
			gint _tmp17_;
			GdkRectangle _tmp18_;
			gint _tmp19_;
			GdkPixbuf* _tmp20_;
			GdkRectangle _tmp21_;
			gint _tmp22_;
			GdkRectangle _tmp23_;
			gint _tmp24_;
			GdkRectangle _tmp25_;
			gint _tmp26_;
			GdkRectangle _tmp27_;
			gint _tmp28_;
#line 320 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp5_ = root;
#line 320 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			scale_factor = gdk_window_get_scale_factor (_tmp5_);
#line 322 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			gdk_window_get_frame_extents (_data3_->win, &_tmp6_);
#line 322 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			selection_rect = _tmp6_;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp7_ = root;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp8_ = root;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp9_ = root;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp10_ = gdk_pixbuf_get_from_window (_tmp7_, 0, 0, gdk_window_get_width (_tmp8_), gdk_window_get_height (_tmp9_));
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp11_ = _tmp10_;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp12_ = selection_rect;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp13_ = _tmp12_.x;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp14_ = selection_rect;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp15_ = _tmp14_.y;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp16_ = selection_rect;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp17_ = _tmp16_.width;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp18_ = selection_rect;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp19_ = _tmp18_.height;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp20_ = gdk_pixbuf_new_subpixbuf (_tmp11_, _tmp13_, _tmp15_, _tmp17_, _tmp19_);
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_object_unref0 (screenshot);
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			screenshot = _tmp20_;
#line 324 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_object_unref0 (_tmp11_);
#line 327 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp21_ = selection_rect;
#line 327 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp22_ = _tmp21_.x;
#line 327 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			win_rect.x = _tmp22_;
#line 328 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp23_ = selection_rect;
#line 328 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp24_ = _tmp23_.y;
#line 328 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			win_rect.y = _tmp24_;
#line 329 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp25_ = selection_rect;
#line 329 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp26_ = _tmp25_.width;
#line 329 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			win_rect.width = _tmp26_;
#line 330 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp27_ = selection_rect;
#line 330 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp28_ = _tmp27_.height;
#line 330 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			win_rect.height = _tmp28_;
#line 331 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			break;
#line 958 "ScreenshotWindow.c"
		}
		default:
		{
			gint width = 0;
			gint height = 0;
			gboolean _tmp29_ = FALSE;
			gint _tmp30_;
			gint _tmp47_;
			gint _tmp48_;
#line 333 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			scale_factor = gdk_window_get_scale_factor (_data3_->win);
#line 334 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			width = gdk_window_get_width (_data3_->win);
#line 335 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			height = gdk_window_get_height (_data3_->win);
#line 338 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp30_ = scale_factor;
#line 338 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (_tmp30_ > 1) {
#line 338 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp29_ = _data3_->capture_mode == SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_NEW_SCREEN;
#line 980 "ScreenshotWindow.c"
			} else {
#line 338 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp29_ = FALSE;
#line 984 "ScreenshotWindow.c"
			}
#line 338 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (_tmp29_) {
#line 988 "ScreenshotWindow.c"
				gint _tmp31_;
				gint _tmp32_;
				gint _tmp33_;
				gint _tmp34_;
				GdkPixbuf* _tmp35_;
				GdkPixbuf* _tmp36_;
				GdkPixbuf* _tmp37_;
				gint _tmp38_;
				gint _tmp39_;
				gint _tmp40_;
				gint _tmp41_;
				gint _tmp42_;
				gint _tmp43_;
#line 339 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp31_ = width;
#line 339 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp32_ = scale_factor;
#line 339 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp33_ = height;
#line 339 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp34_ = scale_factor;
#line 339 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp35_ = gdk_pixbuf_get_from_window (_data3_->win, 0, 0, _tmp31_ / _tmp32_, _tmp33_ / _tmp34_);
#line 339 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_object_unref0 (screenshot);
#line 339 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				screenshot = _tmp35_;
#line 340 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp36_ = screenshot;
#line 340 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp37_ = screenshot;
#line 340 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp38_ = width;
#line 340 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp39_ = height;
#line 340 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp40_ = width;
#line 340 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp41_ = height;
#line 340 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp42_ = scale_factor;
#line 340 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp43_ = scale_factor;
#line 340 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				gdk_pixbuf_scale (_tmp36_, _tmp37_, _tmp38_, _tmp39_, _tmp40_, _tmp41_, (gdouble) 0, (gdouble) 0, (gdouble) _tmp42_, (gdouble) _tmp43_, GDK_INTERP_BILINEAR);
#line 1034 "ScreenshotWindow.c"
			} else {
				gint _tmp44_;
				gint _tmp45_;
				GdkPixbuf* _tmp46_;
#line 342 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp44_ = width;
#line 342 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp45_ = height;
#line 342 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp46_ = gdk_pixbuf_get_from_window (_data3_->win, 0, 0, _tmp44_, _tmp45_);
#line 342 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_object_unref0 (screenshot);
#line 342 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				screenshot = _tmp46_;
#line 1049 "ScreenshotWindow.c"
			}
#line 345 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			win_rect.x = 0;
#line 346 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			win_rect.y = 0;
#line 347 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp47_ = width;
#line 347 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			win_rect.width = _tmp47_;
#line 348 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp48_ = height;
#line 348 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			win_rect.height = _tmp48_;
#line 349 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			break;
#line 1065 "ScreenshotWindow.c"
		}
	}
#line 353 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp49_ = self->priv->_redact;
#line 353 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp49_) {
#line 354 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_redact_text (self, FALSE);
#line 1074 "ScreenshotWindow.c"
	}
#line 358 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp50_ = screenshot;
#line 358 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp50_ == NULL) {
#line 359 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_show_error_dialog (self);
#line 360 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		result = FALSE;
#line 360 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (screenshot);
#line 360 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (root);
#line 360 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		block3_data_unref (_data3_);
#line 360 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data3_ = NULL;
#line 360 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		return result;
#line 1094 "ScreenshotWindow.c"
	}
#line 364 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_play_shutter_sound (self, "screen-capture", _ ("Screenshot taken"));
#line 366 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_warning ("ScreenshotWindow.vala:366: SHUTTER");
#line 368 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp51_ = gtk_widget_get_display ((GtkWidget*) self);
#line 368 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp52_ = gtk_clipboard_get_default (_tmp51_);
#line 368 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp53_ = screenshot;
#line 368 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_clipboard_set_image (_tmp52_, _tmp53_);
#line 370 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp54_ = self->priv->preview_box;
#line 370 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp55_ = screenshot;
#line 370 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_widgets_preview_box_update (_tmp54_, _tmp55_);
#line 429 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = FALSE;
#line 429 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (screenshot);
#line 429 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (root);
#line 429 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	block3_data_unref (_data3_);
#line 429 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data3_ = NULL;
#line 429 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 1126 "ScreenshotWindow.c"
}


ScreenshotScreenshotWindow*
screenshot_screenshot_window_construct_from_cmd (GType object_type,
                                                 gint* action,
                                                 gint* delay,
                                                 gboolean* grab_pointer,
                                                 gboolean* redact,
                                                 gboolean* clipboard)
{
	ScreenshotScreenshotWindow * self = NULL;
#line 454 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = (ScreenshotScreenshotWindow*) g_object_new (object_type, NULL);
#line 455 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (delay != NULL) {
#line 456 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self->priv->delay = MAX (0, *delay);
#line 1145 "ScreenshotWindow.c"
	}
#line 459 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (grab_pointer != NULL) {
#line 460 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_set_mouse_pointer (self, *grab_pointer);
#line 1151 "ScreenshotWindow.c"
	}
#line 463 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (redact != NULL) {
#line 464 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_set_redact (self, *redact);
#line 1157 "ScreenshotWindow.c"
	}
#line 467 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (action != NULL) {
#line 468 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		switch (*action) {
#line 468 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			case 1:
#line 1165 "ScreenshotWindow.c"
			{
#line 470 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				self->priv->capture_mode = SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_SCREEN;
#line 471 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				break;
#line 1171 "ScreenshotWindow.c"
			}
#line 468 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			case 2:
#line 1175 "ScreenshotWindow.c"
			{
#line 473 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				self->priv->capture_mode = SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_CURRENT_WINDOW;
#line 474 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				break;
#line 1181 "ScreenshotWindow.c"
			}
#line 468 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			case 3:
#line 1185 "ScreenshotWindow.c"
			{
#line 476 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				self->priv->capture_mode = SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_AREA;
#line 477 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				break;
#line 1191 "ScreenshotWindow.c"
			}
			default:
#line 468 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			break;
#line 1196 "ScreenshotWindow.c"
		}
	}
#line 481 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (clipboard != NULL) {
#line 482 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self->priv->to_clipboard = *clipboard;
#line 1203 "ScreenshotWindow.c"
	}
#line 485 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_set_close_on_save (self, TRUE);
#line 486 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self->priv->from_command = TRUE;
#line 488 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_set_opacity ((GtkWindow*) self, (gdouble) 0);
#line 454 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return self;
#line 1213 "ScreenshotWindow.c"
}


ScreenshotScreenshotWindow*
screenshot_screenshot_window_new_from_cmd (gint* action,
                                           gint* delay,
                                           gboolean* grab_pointer,
                                           gboolean* redact,
                                           gboolean* clipboard)
{
#line 454 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return screenshot_screenshot_window_construct_from_cmd (SCREENSHOT_TYPE_SCREENSHOT_WINDOW, action, delay, grab_pointer, redact, clipboard);
#line 1226 "ScreenshotWindow.c"
}


static Block4Data*
block4_data_ref (Block4Data* _data4_)
{
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_atomic_int_inc (&_data4_->_ref_count_);
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return _data4_;
#line 1237 "ScreenshotWindow.c"
}


static void
block4_data_unref (void * _userdata_)
{
	Block4Data* _data4_;
	_data4_ = (Block4Data*) _userdata_;
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (g_atomic_int_dec_and_test (&_data4_->_ref_count_)) {
#line 1248 "ScreenshotWindow.c"
		ScreenshotScreenshotWindow* self;
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self = _data4_->self;
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data4_->screenshot);
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data4_->win);
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (self);
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_slice_free (Block4Data, _data4_);
#line 1260 "ScreenshotWindow.c"
	}
}


static gboolean
___lambda9_ (Block4Data* _data4_)
{
	ScreenshotScreenshotWindow* self;
	gboolean result = FALSE;
#line 494 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data4_->self;
#line 495 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = screenshot_screenshot_window_grab_save (self, _data4_->win, FALSE);
#line 495 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 1276 "ScreenshotWindow.c"
}


static gboolean
____lambda9__gsource_func (gpointer self)
{
	gboolean result;
	result = ___lambda9_ (self);
#line 494 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 1287 "ScreenshotWindow.c"
}


static gboolean
__lambda10_ (ScreenshotScreenshotWindow* self)
{
	gboolean result = FALSE;
	gboolean _tmp0_;
#line 502 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->from_command;
#line 502 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp0_ == FALSE) {
#line 503 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_set_opacity ((GtkWindow*) self, (gdouble) 1);
#line 1302 "ScreenshotWindow.c"
	}
#line 505 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = FALSE;
#line 505 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 1308 "ScreenshotWindow.c"
}


static gboolean
___lambda10__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda10_ ((ScreenshotScreenshotWindow*) self);
#line 501 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 1319 "ScreenshotWindow.c"
}


static Block5Data*
block5_data_ref (Block5Data* _data5_)
{
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_atomic_int_inc (&_data5_->_ref_count_);
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return _data5_;
#line 1330 "ScreenshotWindow.c"
}


static void
block5_data_unref (void * _userdata_)
{
	Block5Data* _data5_;
	_data5_ = (Block5Data*) _userdata_;
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (g_atomic_int_dec_and_test (&_data5_->_ref_count_)) {
#line 1341 "ScreenshotWindow.c"
		ScreenshotScreenshotWindow* self;
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self = _data5_->_data4_->self;
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data5_->save_dialog);
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		block4_data_unref (_data5_->_data4_);
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data5_->_data4_ = NULL;
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_slice_free (Block5Data, _data5_);
#line 1353 "ScreenshotWindow.c"
	}
}


static gchar*
string_replace (const gchar* self,
                const gchar* old,
                const gchar* replacement)
{
	gchar* result = NULL;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	GError* _inner_error0_ = NULL;
#line 1479 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1479 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1479 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if ((*((gchar*) self)) == '\0') {
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp1_ = TRUE;
#line 1377 "ScreenshotWindow.c"
	} else {
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp1_ = (*((gchar*) old)) == '\0';
#line 1381 "ScreenshotWindow.c"
	}
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_tmp1_) {
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp0_ = TRUE;
#line 1387 "ScreenshotWindow.c"
	} else {
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp0_ = g_strcmp0 (old, replacement) == 0;
#line 1391 "ScreenshotWindow.c"
	}
#line 1480 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (_tmp0_) {
#line 1395 "ScreenshotWindow.c"
		gchar* _tmp2_;
#line 1481 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp2_ = g_strdup (self);
#line 1481 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = _tmp2_;
#line 1481 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 1403 "ScreenshotWindow.c"
	}
	{
		GRegex* regex = NULL;
		gchar* _tmp3_;
		gchar* _tmp4_;
		GRegex* _tmp5_;
		GRegex* _tmp6_;
		gchar* _tmp7_ = NULL;
		GRegex* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp3_ = g_regex_escape_string (old, -1);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp5_ = g_regex_new (_tmp4_, 0, 0, &_inner_error0_);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp6_ = _tmp5_;
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_g_free0 (_tmp4_);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		regex = _tmp6_;
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 1431 "ScreenshotWindow.c"
				goto __catch2_g_regex_error;
			}
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1484 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			return NULL;
#line 1440 "ScreenshotWindow.c"
		}
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp8_ = regex;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp9_ = g_regex_replace_literal (_tmp8_, self, (gssize) -1, 0, replacement, 0, &_inner_error0_);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp7_ = _tmp9_;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 1454 "ScreenshotWindow.c"
				goto __catch2_g_regex_error;
			}
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
			return NULL;
#line 1463 "ScreenshotWindow.c"
		}
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp10_ = _tmp7_;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_tmp7_ = NULL;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		result = _tmp10_;
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_g_free0 (_tmp7_);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1485 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return result;
#line 1477 "ScreenshotWindow.c"
	}
	goto __finally2;
	__catch2_g_regex_error:
	{
		GError* e = NULL;
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		e = _inner_error0_;
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_inner_error0_ = NULL;
#line 1487 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_assert_not_reached ();
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		_g_error_free0 (e);
#line 1491 "ScreenshotWindow.c"
	}
	__finally2:
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		g_clear_error (&_inner_error0_);
#line 1483 "/usr/share/vala-0.40/vapi/glib-2.0.vapi"
		return NULL;
#line 1502 "ScreenshotWindow.c"
	}
}


static void
___lambda17_ (Block5Data* _data5_,
              gboolean response,
              const gchar* folder_dir,
              const gchar* output_name,
              const gchar* format)
{
	Block4Data* _data4_;
	ScreenshotScreenshotWindow* self;
	ScreenshotWidgetsSaveDialog* _tmp0_;
	GError* _inner_error0_ = NULL;
#line 603 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data4_ = _data5_->_data4_;
#line 603 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data4_->self;
#line 603 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (folder_dir != NULL);
#line 603 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (output_name != NULL);
#line 603 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (format != NULL);
#line 604 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = _data5_->save_dialog;
#line 604 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_widget_destroy ((GtkWidget*) _tmp0_);
#line 606 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (response) {
#line 1534 "ScreenshotWindow.c"
		gchar** formats = NULL;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gchar* _tmp5_;
		gchar** _tmp6_;
		gint formats_length1;
		gint _formats_size_;
		gchar* output = NULL;
		gchar* _tmp7_;
		gchar** _tmp8_;
		gint _tmp8__length1;
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp1_ = g_strdup (".png");
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp2_ = g_strdup (".jpg");
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp3_ = g_strdup (".jpeg");
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp4_ = g_strdup (".bmp");
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp5_ = g_strdup (".tiff");
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp6_ = g_new0 (gchar*, 5 + 1);
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp6_[0] = _tmp1_;
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp6_[1] = _tmp2_;
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp6_[2] = _tmp3_;
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp6_[3] = _tmp4_;
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp6_[4] = _tmp5_;
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		formats = _tmp6_;
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		formats_length1 = 5;
#line 607 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_formats_size_ = formats_length1;
#line 608 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp7_ = g_strdup (output_name);
#line 608 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		output = _tmp7_;
#line 610 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp8_ = formats;
#line 610 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp8__length1 = formats_length1;
#line 1584 "ScreenshotWindow.c"
		{
			gchar** type_collection = NULL;
			gint type_collection_length1 = 0;
			gint _type_collection_size_ = 0;
			gint type_it = 0;
#line 610 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			type_collection = _tmp8_;
#line 610 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			type_collection_length1 = _tmp8__length1;
#line 610 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			for (type_it = 0; type_it < type_collection_length1; type_it = type_it + 1) {
#line 1596 "ScreenshotWindow.c"
				gchar* _tmp9_;
				gchar* type = NULL;
#line 610 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp9_ = g_strdup (type_collection[type_it]);
#line 610 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				type = _tmp9_;
#line 1603 "ScreenshotWindow.c"
				{
					const gchar* _tmp10_;
					const gchar* _tmp11_;
					gchar* _tmp12_;
#line 611 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					_tmp10_ = output;
#line 611 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					_tmp11_ = type;
#line 611 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					_tmp12_ = string_replace (_tmp10_, _tmp11_, "");
#line 611 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					_g_free0 (output);
#line 611 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					output = _tmp12_;
#line 610 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					_g_free0 (type);
#line 1620 "ScreenshotWindow.c"
				}
			}
		}
		{
			const gchar* _tmp13_;
			gchar* _tmp14_;
			GdkPixbuf* _tmp15_;
			gboolean _tmp16_;
#line 615 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp13_ = output;
#line 615 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp14_ = g_strdup (folder_dir);
#line 615 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp15_ = _data4_->screenshot;
#line 615 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			screenshot_screenshot_window_save_file (self, _tmp13_, format, _tmp14_, _tmp15_, &_inner_error0_);
#line 615 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1639 "ScreenshotWindow.c"
				goto __catch3_g_error;
			}
#line 617 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp16_ = self->priv->_close_on_save;
#line 617 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (_tmp16_) {
#line 618 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				gtk_widget_destroy ((GtkWidget*) self);
#line 1648 "ScreenshotWindow.c"
			}
		}
		goto __finally3;
		__catch3_g_error:
		{
			GError* e = NULL;
			GError* _tmp17_;
			const gchar* _tmp18_;
#line 614 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			e = _inner_error0_;
#line 614 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_inner_error0_ = NULL;
#line 621 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			screenshot_screenshot_window_show_error_dialog (self);
#line 622 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp17_ = e;
#line 622 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp18_ = _tmp17_->message;
#line 622 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			g_debug ("ScreenshotWindow.vala:622: %s", _tmp18_);
#line 614 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_error_free0 (e);
#line 1671 "ScreenshotWindow.c"
		}
		__finally3:
#line 614 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 614 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_free0 (output);
#line 614 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			formats = (_vala_array_free (formats, formats_length1, (GDestroyNotify) g_free), NULL);
#line 614 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 614 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			g_clear_error (&_inner_error0_);
#line 614 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			return;
#line 1686 "ScreenshotWindow.c"
		}
#line 606 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_free0 (output);
#line 606 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		formats = (_vala_array_free (formats, formats_length1, (GDestroyNotify) g_free), NULL);
#line 1692 "ScreenshotWindow.c"
	}
}


static void
____lambda17__screenshot_widgets_save_dialog_save_response (ScreenshotWidgetsSaveDialog* _sender,
                                                            gboolean response,
                                                            const gchar* folder_dir,
                                                            const gchar* output_name,
                                                            const gchar* format,
                                                            gpointer self)
{
#line 603 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	___lambda17_ (self, response, folder_dir, output_name, format);
#line 1707 "ScreenshotWindow.c"
}


static void
___lambda18_ (ScreenshotScreenshotWindow* self)
{
	gboolean _tmp0_;
#line 628 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->_close_on_save;
#line 628 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp0_) {
#line 629 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_widget_destroy ((GtkWidget*) self);
#line 1721 "ScreenshotWindow.c"
	}
}


static void
____lambda18__gtk_dialog_close (GtkDialog* _sender,
                                gpointer self)
{
#line 627 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	___lambda18_ ((ScreenshotScreenshotWindow*) self);
#line 1732 "ScreenshotWindow.c"
}


static gboolean
screenshot_screenshot_window_grab_save (ScreenshotScreenshotWindow* self,
                                        GdkWindow* win,
                                        gboolean extra_time)
{
	gboolean result = FALSE;
	Block4Data* _data4_;
	GdkWindow* _tmp0_;
	GdkRectangle win_rect = {0};
	GdkWindow* root = NULL;
	GdkWindow* _tmp1_;
	GdkWindow* _tmp2_;
	gint scale_factor = 0;
	ScreenshotScreenshotWindowCaptureType _tmp5_;
	gboolean _tmp51_;
	GdkPixbuf* _tmp52_;
	gboolean _tmp53_;
	gboolean _tmp123_;
	GError* _inner_error0_ = NULL;
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data4_ = g_slice_new0 (Block4Data);
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data4_->_ref_count_ = 1;
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data4_->self = g_object_ref (self);
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = _g_object_ref0 (win);
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (_data4_->win);
#line 491 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data4_->win = _tmp0_;
#line 492 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (extra_time) {
#line 493 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_redact_text (self, TRUE);
#line 494 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_timeout_add_seconds_full (G_PRIORITY_DEFAULT, (guint) 1, ____lambda9__gsource_func, block4_data_ref (_data4_), block4_data_unref);
#line 498 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		result = FALSE;
#line 498 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		block4_data_unref (_data4_);
#line 498 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data4_ = NULL;
#line 498 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		return result;
#line 1783 "ScreenshotWindow.c"
	}
#line 501 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 250, ___lambda10__gsource_func, g_object_ref (self), g_object_unref);
#line 508 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	memset (&win_rect, 0, sizeof (GdkRectangle));
#line 509 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = gdk_get_default_root_window ();
#line 509 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 509 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	root = _tmp2_;
#line 511 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_data4_->win == NULL) {
#line 1797 "ScreenshotWindow.c"
		GdkWindow* _tmp3_;
		GdkWindow* _tmp4_;
#line 512 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp3_ = root;
#line 512 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp4_ = _g_object_ref0 (_tmp3_);
#line 512 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data4_->win);
#line 512 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data4_->win = _tmp4_;
#line 1808 "ScreenshotWindow.c"
	}
#line 518 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp5_ = self->priv->capture_mode;
#line 518 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp5_ == SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_AREA) {
#line 1814 "ScreenshotWindow.c"
		GdkWindow* _tmp6_;
		GdkRectangle selection_rect = {0};
		GdkRectangle _tmp7_ = {0};
		GdkWindow* _tmp8_;
		GdkWindow* _tmp9_;
		GdkWindow* _tmp10_;
		GdkPixbuf* _tmp11_;
		GdkPixbuf* _tmp12_;
		GdkRectangle _tmp13_;
		gint _tmp14_;
		GdkRectangle _tmp15_;
		gint _tmp16_;
		GdkRectangle _tmp17_;
		gint _tmp18_;
		GdkRectangle _tmp19_;
		gint _tmp20_;
		GdkPixbuf* _tmp21_;
		GdkRectangle _tmp22_;
		gint _tmp23_;
		GdkRectangle _tmp24_;
		gint _tmp25_;
		GdkRectangle _tmp26_;
		gint _tmp27_;
		GdkRectangle _tmp28_;
		gint _tmp29_;
#line 519 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp6_ = root;
#line 519 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		scale_factor = gdk_window_get_scale_factor (_tmp6_);
#line 521 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gdk_window_get_frame_extents (_data4_->win, &_tmp7_);
#line 521 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		selection_rect = _tmp7_;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp8_ = root;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp9_ = root;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp10_ = root;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp11_ = gdk_pixbuf_get_from_window (_tmp8_, 0, 0, gdk_window_get_width (_tmp9_), gdk_window_get_height (_tmp10_));
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp12_ = _tmp11_;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp13_ = selection_rect;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp14_ = _tmp13_.x;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp15_ = selection_rect;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp16_ = _tmp15_.y;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp17_ = selection_rect;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp18_ = _tmp17_.width;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp19_ = selection_rect;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp20_ = _tmp19_.height;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp21_ = gdk_pixbuf_new_subpixbuf (_tmp12_, _tmp14_, _tmp16_, _tmp18_, _tmp20_);
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data4_->screenshot);
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data4_->screenshot = _tmp21_;
#line 523 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_tmp12_);
#line 526 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp22_ = selection_rect;
#line 526 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp23_ = _tmp22_.x;
#line 526 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		win_rect.x = _tmp23_;
#line 527 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp24_ = selection_rect;
#line 527 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp25_ = _tmp24_.y;
#line 527 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		win_rect.y = _tmp25_;
#line 528 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp26_ = selection_rect;
#line 528 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp27_ = _tmp26_.width;
#line 528 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		win_rect.width = _tmp27_;
#line 529 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp28_ = selection_rect;
#line 529 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp29_ = _tmp28_.height;
#line 529 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		win_rect.height = _tmp29_;
#line 1906 "ScreenshotWindow.c"
	} else {
		gint width = 0;
		gint height = 0;
		gboolean _tmp30_ = FALSE;
		gint _tmp31_;
		gint _tmp49_;
		gint _tmp50_;
#line 531 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		scale_factor = gdk_window_get_scale_factor (_data4_->win);
#line 532 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		width = gdk_window_get_width (_data4_->win);
#line 533 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		height = gdk_window_get_height (_data4_->win);
#line 536 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp31_ = scale_factor;
#line 536 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		if (_tmp31_ > 1) {
#line 1924 "ScreenshotWindow.c"
			ScreenshotScreenshotWindowCaptureType _tmp32_;
#line 536 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp32_ = self->priv->capture_mode;
#line 536 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp30_ = _tmp32_ == SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_SCREEN;
#line 1930 "ScreenshotWindow.c"
		} else {
#line 536 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp30_ = FALSE;
#line 1934 "ScreenshotWindow.c"
		}
#line 536 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		if (_tmp30_) {
#line 1938 "ScreenshotWindow.c"
			gint _tmp33_;
			gint _tmp34_;
			gint _tmp35_;
			gint _tmp36_;
			GdkPixbuf* _tmp37_;
			GdkPixbuf* _tmp38_;
			GdkPixbuf* _tmp39_;
			gint _tmp40_;
			gint _tmp41_;
			gint _tmp42_;
			gint _tmp43_;
			gint _tmp44_;
			gint _tmp45_;
#line 537 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp33_ = width;
#line 537 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp34_ = scale_factor;
#line 537 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp35_ = height;
#line 537 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp36_ = scale_factor;
#line 537 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp37_ = gdk_pixbuf_get_from_window (_data4_->win, 0, 0, _tmp33_ / _tmp34_, _tmp35_ / _tmp36_);
#line 537 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_object_unref0 (_data4_->screenshot);
#line 537 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_data4_->screenshot = _tmp37_;
#line 538 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp38_ = _data4_->screenshot;
#line 538 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp39_ = _data4_->screenshot;
#line 538 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp40_ = width;
#line 538 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp41_ = height;
#line 538 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp42_ = width;
#line 538 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp43_ = height;
#line 538 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp44_ = scale_factor;
#line 538 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp45_ = scale_factor;
#line 538 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			gdk_pixbuf_scale (_tmp38_, _tmp39_, _tmp40_, _tmp41_, _tmp42_, _tmp43_, (gdouble) 0, (gdouble) 0, (gdouble) _tmp44_, (gdouble) _tmp45_, GDK_INTERP_BILINEAR);
#line 1984 "ScreenshotWindow.c"
		} else {
			gint _tmp46_;
			gint _tmp47_;
			GdkPixbuf* _tmp48_;
#line 540 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp46_ = width;
#line 540 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp47_ = height;
#line 540 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp48_ = gdk_pixbuf_get_from_window (_data4_->win, 0, 0, _tmp46_, _tmp47_);
#line 540 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_object_unref0 (_data4_->screenshot);
#line 540 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_data4_->screenshot = _tmp48_;
#line 1999 "ScreenshotWindow.c"
		}
#line 543 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		win_rect.x = 0;
#line 544 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		win_rect.y = 0;
#line 545 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp49_ = width;
#line 545 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		win_rect.width = _tmp49_;
#line 546 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp50_ = height;
#line 546 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		win_rect.height = _tmp50_;
#line 2013 "ScreenshotWindow.c"
	}
#line 549 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp51_ = self->priv->_redact;
#line 549 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp51_) {
#line 550 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_redact_text (self, FALSE);
#line 2021 "ScreenshotWindow.c"
	}
#line 553 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp52_ = _data4_->screenshot;
#line 553 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp52_ == NULL) {
#line 554 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_show_error_dialog (self);
#line 555 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		result = FALSE;
#line 555 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (root);
#line 555 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		block4_data_unref (_data4_);
#line 555 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data4_ = NULL;
#line 555 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		return result;
#line 2039 "ScreenshotWindow.c"
	}
#line 558 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp53_ = self->priv->_mouse_pointer;
#line 558 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp53_) {
#line 2045 "ScreenshotWindow.c"
		GdkCursor* cursor = NULL;
		GdkDisplay* _tmp54_;
		GdkCursor* _tmp55_;
		GdkPixbuf* cursor_pixbuf = NULL;
		GdkCursor* _tmp56_;
		GdkPixbuf* _tmp57_;
		GdkPixbuf* _tmp58_;
#line 559 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp54_ = gdk_display_get_default ();
#line 559 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp55_ = gdk_cursor_new_for_display (_tmp54_, GDK_LEFT_PTR);
#line 559 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		cursor = _tmp55_;
#line 560 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp56_ = cursor;
#line 560 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp57_ = gdk_cursor_get_image (_tmp56_);
#line 560 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		cursor_pixbuf = _tmp57_;
#line 562 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp58_ = cursor_pixbuf;
#line 562 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		if (_tmp58_ != NULL) {
#line 2069 "ScreenshotWindow.c"
			GdkDeviceManager* manager = NULL;
			GdkDisplay* _tmp59_;
			GdkDeviceManager* _tmp60_;
			GdkDeviceManager* _tmp61_;
			GdkDevice* device = NULL;
			GdkDeviceManager* _tmp62_;
			GdkDevice* _tmp63_;
			GdkDevice* _tmp64_;
			gint cx = 0;
			gint cy = 0;
			gint xhot = 0;
			gint yhot = 0;
			ScreenshotScreenshotWindowCaptureType _tmp65_;
			GdkPixbuf* _tmp73_;
			const gchar* _tmp74_;
			GdkPixbuf* _tmp75_;
			const gchar* _tmp76_;
			GdkRectangle cursor_rect = {0};
			gint _tmp77_;
			gint _tmp78_;
			gint _tmp79_;
			gint _tmp80_;
			GdkPixbuf* _tmp81_;
			GdkPixbuf* _tmp82_;
			gint _tmp83_;
			GdkRectangle cursor_clip = {0};
			GdkRectangle _tmp92_;
			GdkRectangle _tmp93_ = {0};
			gboolean _tmp94_;
#line 563 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp59_ = gdk_display_get_default ();
#line 563 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp60_ = gdk_display_get_device_manager (_tmp59_);
#line 563 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp61_ = _g_object_ref0 (_tmp60_);
#line 563 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			manager = _tmp61_;
#line 564 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp62_ = manager;
#line 564 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp63_ = gdk_device_manager_get_client_pointer (_tmp62_);
#line 564 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp64_ = _g_object_ref0 (_tmp63_);
#line 564 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			device = _tmp64_;
#line 567 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp65_ = self->priv->capture_mode;
#line 567 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (_tmp65_ != SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_AREA) {
#line 2119 "ScreenshotWindow.c"
				GdkDevice* _tmp66_;
				gint _tmp67_ = 0;
				gint _tmp68_ = 0;
#line 568 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp66_ = device;
#line 568 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				gdk_window_get_device_position (_data4_->win, _tmp66_, &_tmp67_, &_tmp68_, NULL);
#line 568 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cx = _tmp67_;
#line 568 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cy = _tmp68_;
#line 2131 "ScreenshotWindow.c"
			} else {
				GdkWindow* _tmp69_;
				GdkDevice* _tmp70_;
				gint _tmp71_ = 0;
				gint _tmp72_ = 0;
#line 570 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp69_ = root;
#line 570 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp70_ = device;
#line 570 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				gdk_window_get_device_position (_tmp69_, _tmp70_, &_tmp71_, &_tmp72_, NULL);
#line 570 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cx = _tmp71_;
#line 570 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cy = _tmp72_;
#line 2147 "ScreenshotWindow.c"
			}
#line 572 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp73_ = cursor_pixbuf;
#line 572 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp74_ = gdk_pixbuf_get_option (_tmp73_, "x_hot");
#line 572 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			xhot = atoi (_tmp74_);
#line 573 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp75_ = cursor_pixbuf;
#line 573 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp76_ = gdk_pixbuf_get_option (_tmp75_, "y_hot");
#line 573 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			yhot = atoi (_tmp76_);
#line 575 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			memset (&cursor_rect, 0, sizeof (GdkRectangle));
#line 576 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp77_ = cx;
#line 576 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp78_ = xhot;
#line 576 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			cursor_rect.x = _tmp77_ - _tmp78_;
#line 577 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp79_ = cy;
#line 577 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp80_ = yhot;
#line 577 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			cursor_rect.y = _tmp79_ - _tmp80_;
#line 578 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp81_ = cursor_pixbuf;
#line 578 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			cursor_rect.width = gdk_pixbuf_get_width (_tmp81_);
#line 579 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp82_ = cursor_pixbuf;
#line 579 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			cursor_rect.height = gdk_pixbuf_get_height (_tmp82_);
#line 581 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp83_ = scale_factor;
#line 581 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (_tmp83_ > 1) {
#line 2187 "ScreenshotWindow.c"
				gint _tmp84_;
				gint _tmp85_;
				gint _tmp86_;
				gint _tmp87_;
				gint _tmp88_;
				gint _tmp89_;
				gint _tmp90_;
				gint _tmp91_;
#line 582 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp84_ = cursor_rect.x;
#line 582 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp85_ = scale_factor;
#line 582 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cursor_rect.x = _tmp84_ * _tmp85_;
#line 583 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp86_ = cursor_rect.y;
#line 583 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp87_ = scale_factor;
#line 583 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cursor_rect.y = _tmp86_ * _tmp87_;
#line 584 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp88_ = cursor_rect.width;
#line 584 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp89_ = scale_factor;
#line 584 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cursor_rect.width = _tmp88_ * _tmp89_;
#line 585 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp90_ = cursor_rect.height;
#line 585 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp91_ = scale_factor;
#line 585 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cursor_rect.height = _tmp90_ * _tmp91_;
#line 2220 "ScreenshotWindow.c"
			}
#line 589 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp92_ = cursor_rect;
#line 589 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp94_ = gdk_rectangle_intersect (&win_rect, &_tmp92_, &_tmp93_);
#line 589 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			cursor_clip = _tmp93_;
#line 589 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (_tmp94_) {
#line 2230 "ScreenshotWindow.c"
				gint _tmp95_;
				GdkRectangle _tmp96_;
				gint _tmp97_;
				gint _tmp98_;
				GdkRectangle _tmp99_;
				gint _tmp100_;
				gint _tmp101_;
				GdkRectangle _tmp102_;
				gint _tmp103_;
				gint _tmp104_;
				GdkRectangle _tmp105_;
				gint _tmp106_;
				GdkPixbuf* _tmp107_;
				GdkPixbuf* _tmp108_;
				GdkRectangle _tmp109_;
				gint _tmp110_;
				GdkRectangle _tmp111_;
				gint _tmp112_;
				GdkRectangle _tmp113_;
				gint _tmp114_;
				GdkRectangle _tmp115_;
				gint _tmp116_;
				GdkRectangle _tmp117_;
				gint _tmp118_;
				GdkRectangle _tmp119_;
				gint _tmp120_;
				gint _tmp121_;
				gint _tmp122_;
#line 590 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp95_ = cursor_rect.x;
#line 590 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp96_ = win_rect;
#line 590 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp97_ = _tmp96_.x;
#line 590 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cursor_rect.x = _tmp95_ - _tmp97_;
#line 591 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp98_ = cursor_rect.y;
#line 591 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp99_ = win_rect;
#line 591 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp100_ = _tmp99_.y;
#line 591 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cursor_rect.y = _tmp98_ - _tmp100_;
#line 592 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp101_ = cursor_clip.x;
#line 592 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp102_ = win_rect;
#line 592 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp103_ = _tmp102_.x;
#line 592 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cursor_clip.x = _tmp101_ - _tmp103_;
#line 593 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp104_ = cursor_clip.y;
#line 593 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp105_ = win_rect;
#line 593 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp106_ = _tmp105_.y;
#line 593 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				cursor_clip.y = _tmp104_ - _tmp106_;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp107_ = cursor_pixbuf;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp108_ = _data4_->screenshot;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp109_ = cursor_clip;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp110_ = _tmp109_.x;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp111_ = cursor_clip;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp112_ = _tmp111_.y;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp113_ = cursor_clip;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp114_ = _tmp113_.width;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp115_ = cursor_clip;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp116_ = _tmp115_.height;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp117_ = cursor_rect;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp118_ = _tmp117_.x;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp119_ = cursor_rect;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp120_ = _tmp119_.y;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp121_ = scale_factor;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp122_ = scale_factor;
#line 594 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				gdk_pixbuf_composite (_tmp107_, _tmp108_, _tmp110_, _tmp112_, _tmp114_, _tmp116_, (gdouble) _tmp118_, (gdouble) _tmp120_, (gdouble) _tmp121_, (gdouble) _tmp122_, GDK_INTERP_BILINEAR, 255);
#line 2325 "ScreenshotWindow.c"
			}
#line 562 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_object_unref0 (device);
#line 562 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_object_unref0 (manager);
#line 2331 "ScreenshotWindow.c"
		}
#line 558 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (cursor_pixbuf);
#line 558 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (cursor);
#line 2337 "ScreenshotWindow.c"
	}
#line 599 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_play_shutter_sound (self, "screen-capture", _ ("Screenshot taken"));
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp123_ = self->priv->from_command;
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp123_ == FALSE) {
#line 2345 "ScreenshotWindow.c"
		Block5Data* _data5_;
		GdkPixbuf* _tmp124_;
		GSettings* _tmp125_;
		ScreenshotWidgetsSaveDialog* _tmp126_;
		ScreenshotWidgetsSaveDialog* _tmp127_;
		ScreenshotWidgetsSaveDialog* _tmp128_;
		ScreenshotWidgetsSaveDialog* _tmp129_;
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data5_ = g_slice_new0 (Block5Data);
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data5_->_ref_count_ = 1;
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data5_->_data4_ = block4_data_ref (_data4_);
#line 602 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp124_ = _data4_->screenshot;
#line 602 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp125_ = self->priv->settings;
#line 602 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp126_ = screenshot_widgets_save_dialog_new (_tmp124_, _tmp125_, (GtkWindow*) self);
#line 602 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_object_ref_sink (_tmp126_);
#line 602 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data5_->save_dialog = _tmp126_;
#line 603 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp127_ = _data5_->save_dialog;
#line 603 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_signal_connect_data (_tmp127_, "save-response", (GCallback) ____lambda17__screenshot_widgets_save_dialog_save_response, block5_data_ref (_data5_), (GClosureNotify) block5_data_unref, 0);
#line 627 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp128_ = _data5_->save_dialog;
#line 627 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_signal_connect_object ((GtkDialog*) _tmp128_, "close", (GCallback) ____lambda18__gtk_dialog_close, self, 0);
#line 633 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp129_ = _data5_->save_dialog;
#line 633 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_widget_show_all ((GtkWidget*) _tmp129_);
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		block5_data_unref (_data5_);
#line 601 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_data5_ = NULL;
#line 2385 "ScreenshotWindow.c"
	} else {
		gboolean _tmp130_;
#line 635 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp130_ = self->priv->to_clipboard;
#line 635 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		if (_tmp130_) {
#line 2392 "ScreenshotWindow.c"
			GdkDisplay* _tmp131_;
			GtkClipboard* _tmp132_;
			GdkPixbuf* _tmp133_;
#line 636 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp131_ = gtk_widget_get_display ((GtkWidget*) self);
#line 636 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp132_ = gtk_clipboard_get_default (_tmp131_);
#line 636 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp133_ = _data4_->screenshot;
#line 636 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			gtk_clipboard_set_image (_tmp132_, _tmp133_);
#line 2404 "ScreenshotWindow.c"
		} else {
			gchar* date_time = NULL;
			GDateTime* _tmp134_;
			GDateTime* _tmp135_;
			gchar* _tmp136_;
			gchar* _tmp137_;
			gchar* file_name = NULL;
			const gchar* _tmp138_;
			gchar* _tmp139_;
			gchar* format = NULL;
			GSettings* _tmp140_;
			gchar* _tmp141_;
#line 638 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp134_ = g_date_time_new_now_local ();
#line 638 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp135_ = _tmp134_;
#line 638 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp136_ = g_date_time_format (_tmp135_, "%Y-%m-%d %H.%M.%S");
#line 638 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp137_ = _tmp136_;
#line 638 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_date_time_unref0 (_tmp135_);
#line 638 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			date_time = _tmp137_;
#line 641 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp138_ = date_time;
#line 641 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp139_ = g_strdup_printf (_ ("Screenshot from %s"), _tmp138_);
#line 641 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			file_name = _tmp139_;
#line 642 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp140_ = self->priv->settings;
#line 642 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp141_ = g_settings_get_string (_tmp140_, "format");
#line 642 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			format = _tmp141_;
#line 2441 "ScreenshotWindow.c"
			{
				const gchar* _tmp142_;
				const gchar* _tmp143_;
				gchar* _tmp144_;
				GdkPixbuf* _tmp145_;
#line 644 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp142_ = file_name;
#line 644 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp143_ = format;
#line 644 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp144_ = g_strdup ("");
#line 644 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp145_ = _data4_->screenshot;
#line 644 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				screenshot_screenshot_window_save_file (self, _tmp142_, _tmp143_, _tmp144_, _tmp145_, &_inner_error0_);
#line 644 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 2459 "ScreenshotWindow.c"
					goto __catch4_g_error;
				}
			}
			goto __finally4;
			__catch4_g_error:
			{
				GError* e = NULL;
				GError* _tmp146_;
				const gchar* _tmp147_;
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				e = _inner_error0_;
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_inner_error0_ = NULL;
#line 646 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				screenshot_screenshot_window_show_error_dialog (self);
#line 647 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp146_ = e;
#line 647 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp147_ = _tmp146_->message;
#line 647 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				g_debug ("ScreenshotWindow.vala:647: %s", _tmp147_);
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_error_free0 (e);
#line 2483 "ScreenshotWindow.c"
			}
			__finally4:
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 2488 "ScreenshotWindow.c"
				gboolean _tmp148_ = FALSE;
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_free0 (format);
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_free0 (file_name);
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_free0 (date_time);
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_object_unref0 (root);
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				block4_data_unref (_data4_);
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_data4_ = NULL;
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				g_clear_error (&_inner_error0_);
#line 643 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				return _tmp148_;
#line 2508 "ScreenshotWindow.c"
			}
#line 635 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_free0 (format);
#line 635 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_free0 (file_name);
#line 635 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_free0 (date_time);
#line 2516 "ScreenshotWindow.c"
		}
#line 650 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_widget_destroy ((GtkWidget*) self);
#line 2520 "ScreenshotWindow.c"
	}
#line 653 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = FALSE;
#line 653 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (root);
#line 653 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	block4_data_unref (_data4_);
#line 653 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data4_ = NULL;
#line 653 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 2532 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_save_file (ScreenshotScreenshotWindow* self,
                                        const gchar* file_name,
                                        const gchar* format,
                                        gchar* folder_dir,
                                        GdkPixbuf* screenshot,
                                        GError** error)
{
	gchar* full_file_name = NULL;
	gchar* _tmp0_;
	gchar* folder_from_settings = NULL;
	gchar* _tmp1_;
	gint attempt = 0;
	const gchar* _tmp27_;
	GError* _inner_error0_ = NULL;
#line 656 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 656 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (file_name != NULL);
#line 656 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (format != NULL);
#line 656 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (folder_dir != NULL);
#line 656 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (screenshot != NULL);
#line 657 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = g_strdup ("");
#line 657 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	full_file_name = _tmp0_;
#line 658 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = g_strdup ("");
#line 658 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	folder_from_settings = _tmp1_;
#line 660 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (g_strcmp0 (folder_dir, "") == 0) {
#line 2571 "ScreenshotWindow.c"
		GSettings* _tmp2_;
		gchar* _tmp3_;
		const gchar* _tmp4_;
#line 661 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp2_ = self->priv->settings;
#line 661 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp3_ = g_settings_get_string (_tmp2_, "folder-dir");
#line 661 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_free0 (folder_from_settings);
#line 661 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		folder_from_settings = _tmp3_;
#line 662 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp4_ = folder_from_settings;
#line 662 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		if (g_strcmp0 (_tmp4_, "") != 0) {
#line 2587 "ScreenshotWindow.c"
			const gchar* _tmp5_;
			gchar* _tmp6_;
#line 663 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp5_ = folder_from_settings;
#line 663 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp6_ = g_strdup (_tmp5_);
#line 663 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_free0 (folder_dir);
#line 663 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			folder_dir = _tmp6_;
#line 2598 "ScreenshotWindow.c"
		} else {
			const gchar* _tmp7_;
			gchar* _tmp8_;
			gchar* _tmp9_;
			gchar* _tmp10_;
			gchar* _tmp11_;
			gchar* _tmp12_;
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp7_ = g_get_user_special_dir (G_USER_DIRECTORY_PICTURES);
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp8_ = g_strdup_printf ("%c", (gint) G_DIR_SEPARATOR);
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp9_ = _tmp8_;
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp10_ = g_strconcat (_tmp7_, _tmp9_, NULL);
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp11_ = _tmp10_;
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp12_ = g_strconcat (_tmp11_, SCREENSHOT_SCREENSHOT_APP_SAVE_FOLDER, NULL);
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_free0 (folder_dir);
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			folder_dir = _tmp12_;
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_free0 (_tmp11_);
#line 665 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_g_free0 (_tmp9_);
#line 2626 "ScreenshotWindow.c"
		}
#line 668 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_app_create_dir_if_missing (folder_dir);
#line 2630 "ScreenshotWindow.c"
	}
#line 671 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	attempt = 0;
#line 2634 "ScreenshotWindow.c"
	{
		gboolean _tmp13_ = FALSE;
#line 673 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp13_ = TRUE;
#line 673 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		while (TRUE) {
#line 2641 "ScreenshotWindow.c"
			gint _tmp18_;
			gint _tmp26_;
#line 673 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (!_tmp13_) {
#line 2646 "ScreenshotWindow.c"
				const gchar* _tmp14_;
				GFile* _tmp15_;
				GFile* _tmp16_;
				gboolean _tmp17_;
#line 681 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp14_ = full_file_name;
#line 681 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp15_ = g_file_new_for_path (_tmp14_);
#line 681 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp16_ = _tmp15_;
#line 681 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp17_ = !g_file_query_exists (_tmp16_, NULL);
#line 681 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_object_unref0 (_tmp16_);
#line 681 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				if (_tmp17_) {
#line 681 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					break;
#line 2665 "ScreenshotWindow.c"
				}
			}
#line 673 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp13_ = FALSE;
#line 674 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp18_ = attempt;
#line 674 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			if (_tmp18_ == 0) {
#line 2674 "ScreenshotWindow.c"
				gchar* _tmp19_;
				gchar* _tmp20_;
				gchar* _tmp21_;
#line 675 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp19_ = g_strdup_printf ("%s.%s", file_name, format);
#line 675 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp20_ = _tmp19_;
#line 675 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp21_ = g_build_filename (folder_dir, _tmp20_, NULL);
#line 675 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_free0 (full_file_name);
#line 675 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				full_file_name = _tmp21_;
#line 675 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_free0 (_tmp20_);
#line 2690 "ScreenshotWindow.c"
			} else {
				gint _tmp22_;
				gchar* _tmp23_;
				gchar* _tmp24_;
				gchar* _tmp25_;
#line 677 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp22_ = attempt;
#line 677 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp23_ = g_strdup_printf ("%s (%d).%s", file_name, _tmp22_, format);
#line 677 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp24_ = _tmp23_;
#line 677 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp25_ = g_build_filename (folder_dir, _tmp24_, NULL);
#line 677 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_free0 (full_file_name);
#line 677 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				full_file_name = _tmp25_;
#line 677 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_free0 (_tmp24_);
#line 2710 "ScreenshotWindow.c"
			}
#line 680 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp26_ = attempt;
#line 680 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			attempt = _tmp26_ + 1;
#line 2716 "ScreenshotWindow.c"
		}
	}
#line 683 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp27_ = full_file_name;
#line 683 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gdk_pixbuf_save (screenshot, _tmp27_, format, &_inner_error0_, NULL);
#line 683 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 683 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_propagate_error (error, _inner_error0_);
#line 683 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_free0 (folder_from_settings);
#line 683 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_free0 (full_file_name);
#line 683 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_free0 (folder_dir);
#line 683 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		return;
#line 2735 "ScreenshotWindow.c"
	}
#line 656 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_free0 (folder_from_settings);
#line 656 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_free0 (full_file_name);
#line 656 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_free0 (folder_dir);
#line 2743 "ScreenshotWindow.c"
}


void
screenshot_screenshot_window_take_clicked (ScreenshotScreenshotWindow* self)
{
	ScreenshotScreenshotWindowCaptureType _tmp0_;
#line 686 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 687 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_set_opacity ((GtkWindow*) self, (gdouble) 0);
#line 689 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->capture_mode;
#line 689 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	switch (_tmp0_) {
#line 689 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_SCREEN:
#line 2761 "ScreenshotWindow.c"
		{
#line 691 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			screenshot_screenshot_window_capture_screen (self);
#line 692 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			break;
#line 2767 "ScreenshotWindow.c"
		}
#line 689 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_CURRENT_WINDOW:
#line 2771 "ScreenshotWindow.c"
		{
#line 694 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			screenshot_screenshot_window_capture_window (self);
#line 695 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			break;
#line 2777 "ScreenshotWindow.c"
		}
#line 689 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_CAPTURE_TYPE_AREA:
#line 2781 "ScreenshotWindow.c"
		{
#line 697 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			screenshot_screenshot_window_capture_area (self);
#line 698 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			break;
#line 2787 "ScreenshotWindow.c"
		}
		default:
#line 689 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 2792 "ScreenshotWindow.c"
	}
}


static gint
screenshot_screenshot_window_get_timeout (ScreenshotScreenshotWindow* self,
                                          gint delay,
                                          gboolean redact)
{
	gint result = 0;
	gint timeout = 0;
	gint _tmp1_;
#line 702 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 703 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	timeout = delay * 1000;
#line 705 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (redact) {
#line 2811 "ScreenshotWindow.c"
		gint _tmp0_;
#line 706 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp0_ = timeout;
#line 706 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		timeout = _tmp0_ - 1000;
#line 2817 "ScreenshotWindow.c"
	}
#line 709 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = timeout;
#line 709 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp1_ < 300) {
#line 710 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		timeout = 300;
#line 2825 "ScreenshotWindow.c"
	}
#line 713 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = timeout;
#line 713 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 2831 "ScreenshotWindow.c"
}


static gboolean
__lambda19_ (ScreenshotScreenshotWindow* self)
{
	gboolean result = FALSE;
	gboolean _tmp0_;
	gboolean _tmp3_;
#line 721 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->from_command;
#line 721 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp0_ == FALSE) {
#line 2845 "ScreenshotWindow.c"
		gint _tmp1_;
		gint _tmp2_;
#line 722 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp1_ = self->priv->window_x;
#line 722 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp2_ = self->priv->window_y;
#line 722 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_move ((GtkWindow*) self, _tmp1_, _tmp2_);
#line 723 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_present ((GtkWindow*) self);
#line 2856 "ScreenshotWindow.c"
	}
#line 725 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp3_ = self->priv->_redact;
#line 725 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = screenshot_screenshot_window_grab_save (self, NULL, _tmp3_);
#line 725 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 2864 "ScreenshotWindow.c"
}


static gboolean
___lambda19__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda19_ ((ScreenshotScreenshotWindow*) self);
#line 720 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 2875 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_capture_screen (ScreenshotScreenshotWindow* self)
{
	gint _tmp0_;
	gboolean _tmp1_;
#line 716 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 717 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_remember_window_position (self);
#line 718 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_widget_hide ((GtkWidget*) self);
#line 720 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->delay;
#line 720 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = self->priv->_redact;
#line 720 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) screenshot_screenshot_window_get_timeout (self, _tmp0_, _tmp1_), ___lambda19__gsource_func, g_object_ref (self), g_object_unref);
#line 2896 "ScreenshotWindow.c"
}


static Block6Data*
block6_data_ref (Block6Data* _data6_)
{
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_atomic_int_inc (&_data6_->_ref_count_);
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return _data6_;
#line 2907 "ScreenshotWindow.c"
}


static void
_g_object_unref0_ (gpointer var)
{
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 2916 "ScreenshotWindow.c"
}


static inline void
_g_list_free__g_object_unref0_ (GList* self)
{
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_list_free_full (self, (GDestroyNotify) _g_object_unref0_);
#line 2925 "ScreenshotWindow.c"
}


static void
block6_data_unref (void * _userdata_)
{
	Block6Data* _data6_;
	_data6_ = (Block6Data*) _userdata_;
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (g_atomic_int_dec_and_test (&_data6_->_ref_count_)) {
#line 2936 "ScreenshotWindow.c"
		ScreenshotScreenshotWindow* self;
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self = _data6_->self;
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		(_data6_->list == NULL) ? NULL : (_data6_->list = (_g_list_free__g_object_unref0_ (_data6_->list), NULL));
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data6_->win);
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data6_->screen);
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (self);
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_slice_free (Block6Data, _data6_);
#line 2950 "ScreenshotWindow.c"
	}
}


static gboolean
__lambda20_ (Block6Data* _data6_)
{
	ScreenshotScreenshotWindow* self;
	gboolean result = FALSE;
	GdkScreen* _tmp0_;
	GList* _tmp1_;
	gboolean _tmp12_;
#line 738 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data6_->self;
#line 739 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = _data6_->screen;
#line 739 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = gdk_screen_get_window_stack (_tmp0_);
#line 739 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	(_data6_->list == NULL) ? NULL : (_data6_->list = (_g_list_free__g_object_unref0_ (_data6_->list), NULL));
#line 739 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data6_->list = _tmp1_;
#line 2973 "ScreenshotWindow.c"
	{
		GList* item_collection = NULL;
		GList* item_it = NULL;
#line 740 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		item_collection = _data6_->list;
#line 740 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		for (item_it = item_collection; item_it != NULL; item_it = item_it->next) {
#line 2981 "ScreenshotWindow.c"
			GdkWindow* _tmp2_;
			GdkWindow* item = NULL;
#line 740 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp2_ = _g_object_ref0 ((GdkWindow*) item_it->data);
#line 740 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			item = _tmp2_;
#line 2988 "ScreenshotWindow.c"
			{
				GdkScreen* _tmp3_;
				GdkWindow* _tmp4_;
				GdkWindow* _tmp5_;
				GdkWindow* _tmp6_;
				gboolean _tmp7_;
				GdkWindow* _tmp10_;
				GdkWindow* _tmp11_;
#line 741 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp3_ = _data6_->screen;
#line 741 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp4_ = gdk_screen_get_active_window (_tmp3_);
#line 741 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp5_ = _tmp4_;
#line 741 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp6_ = item;
#line 741 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp7_ = _tmp5_ == _tmp6_;
#line 741 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_object_unref0 (_tmp5_);
#line 741 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				if (_tmp7_) {
#line 3011 "ScreenshotWindow.c"
					GdkWindow* _tmp8_;
					GdkWindow* _tmp9_;
#line 742 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					_tmp8_ = item;
#line 742 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					_tmp9_ = _g_object_ref0 (_tmp8_);
#line 742 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					_g_object_unref0 (_data6_->win);
#line 742 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
					_data6_->win = _tmp9_;
#line 3022 "ScreenshotWindow.c"
				}
#line 746 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp10_ = item;
#line 746 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_tmp11_ = item;
#line 746 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				gdk_window_set_events (_tmp10_, gdk_window_get_events (_tmp11_) | GDK_STRUCTURE_MASK);
#line 740 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
				_g_object_unref0 (item);
#line 3032 "ScreenshotWindow.c"
			}
		}
	}
#line 749 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp12_ = self->priv->from_command;
#line 749 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp12_ == FALSE) {
#line 3040 "ScreenshotWindow.c"
		gint _tmp13_;
		gint _tmp14_;
#line 750 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp13_ = self->priv->window_x;
#line 750 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp14_ = self->priv->window_y;
#line 750 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_move ((GtkWindow*) self, _tmp13_, _tmp14_);
#line 751 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_present ((GtkWindow*) self);
#line 3051 "ScreenshotWindow.c"
	}
#line 754 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_data6_->win != NULL) {
#line 3055 "ScreenshotWindow.c"
		gboolean _tmp15_;
#line 755 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp15_ = self->priv->_redact;
#line 755 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_grab_save (self, _data6_->win, _tmp15_);
#line 3061 "ScreenshotWindow.c"
	} else {
		GraniteMessageDialog* dialog = NULL;
		GraniteMessageDialog* _tmp16_;
		GraniteMessageDialog* _tmp17_;
		GraniteMessageDialog* _tmp18_;
		gboolean _tmp19_;
#line 757 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp16_ = granite_message_dialog_new_with_image_from_icon_name (_ ("Could not capture screenshot"), _ ("Couldn't find an active window"), "dialog-error", GTK_BUTTONS_CLOSE);
#line 757 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_object_ref_sink (_tmp16_);
#line 757 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		dialog = _tmp16_;
#line 764 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp17_ = dialog;
#line 764 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_dialog_run ((GtkDialog*) _tmp17_);
#line 765 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp18_ = dialog;
#line 765 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_widget_destroy ((GtkWidget*) _tmp18_);
#line 767 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp19_ = self->priv->from_command;
#line 767 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		if (_tmp19_ == FALSE) {
#line 768 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			gtk_window_set_opacity ((GtkWindow*) self, (gdouble) 1);
#line 3088 "ScreenshotWindow.c"
		} else {
#line 770 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			gtk_widget_destroy ((GtkWidget*) self);
#line 3092 "ScreenshotWindow.c"
		}
#line 754 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (dialog);
#line 3096 "ScreenshotWindow.c"
	}
#line 774 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = FALSE;
#line 774 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 3102 "ScreenshotWindow.c"
}


static gboolean
___lambda20__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda20_ (self);
#line 738 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 3113 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_capture_window (ScreenshotScreenshotWindow* self)
{
	Block6Data* _data6_;
	GdkScreen* _tmp0_;
	GdkScreen* _tmp1_;
	gint _tmp2_;
	gboolean _tmp3_;
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data6_ = g_slice_new0 (Block6Data);
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data6_->_ref_count_ = 1;
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data6_->self = g_object_ref (self);
#line 730 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data6_->screen = NULL;
#line 731 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data6_->win = NULL;
#line 732 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data6_->list = NULL;
#line 734 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = gdk_screen_get_default ();
#line 734 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 734 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (_data6_->screen);
#line 734 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data6_->screen = _tmp1_;
#line 736 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_remember_window_position (self);
#line 737 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_widget_hide ((GtkWidget*) self);
#line 738 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp2_ = self->priv->delay;
#line 738 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp3_ = self->priv->_redact;
#line 738 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) screenshot_screenshot_window_get_timeout (self, _tmp2_, _tmp3_), ___lambda20__gsource_func, block6_data_ref (_data6_), block6_data_unref);
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	block6_data_unref (_data6_);
#line 729 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data6_ = NULL;
#line 3161 "ScreenshotWindow.c"
}


static Block7Data*
block7_data_ref (Block7Data* _data7_)
{
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_atomic_int_inc (&_data7_->_ref_count_);
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return _data7_;
#line 3172 "ScreenshotWindow.c"
}


static void
block7_data_unref (void * _userdata_)
{
	Block7Data* _data7_;
	_data7_ = (Block7Data*) _userdata_;
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (g_atomic_int_dec_and_test (&_data7_->_ref_count_)) {
#line 3183 "ScreenshotWindow.c"
		ScreenshotScreenshotWindow* self;
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self = _data7_->self;
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data7_->win);
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (_data7_->selection_area);
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_object_unref0 (self);
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_slice_free (Block7Data, _data7_);
#line 3195 "ScreenshotWindow.c"
	}
}


static void
__lambda21_ (Block7Data* _data7_)
{
	ScreenshotScreenshotWindow* self;
	gboolean _tmp0_;
#line 784 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data7_->self;
#line 785 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_widgets_selection_area_close (_data7_->selection_area);
#line 786 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->_close_on_save;
#line 786 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp0_) {
#line 787 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_widget_destroy ((GtkWidget*) self);
#line 3215 "ScreenshotWindow.c"
	} else {
		gboolean _tmp1_;
#line 789 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp1_ = self->priv->from_command;
#line 789 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		if (_tmp1_ == FALSE) {
#line 3222 "ScreenshotWindow.c"
			gint _tmp2_;
			gint _tmp3_;
#line 790 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp2_ = self->priv->window_x;
#line 790 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			_tmp3_ = self->priv->window_y;
#line 790 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			gtk_window_move ((GtkWindow*) self, _tmp2_, _tmp3_);
#line 791 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			gtk_window_set_opacity ((GtkWindow*) self, (gdouble) 1);
#line 792 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
			gtk_window_present ((GtkWindow*) self);
#line 3235 "ScreenshotWindow.c"
		}
	}
}


static void
___lambda21__screenshot_widgets_selection_area_cancelled (ScreenshotWidgetsSelectionArea* _sender,
                                                          gpointer self)
{
#line 784 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	__lambda21_ (self);
#line 3247 "ScreenshotWindow.c"
}


static gboolean
__lambda23_ (Block7Data* _data7_)
{
	ScreenshotScreenshotWindow* self;
	gboolean result = FALSE;
	gboolean _tmp0_;
	gboolean _tmp3_;
#line 804 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data7_->self;
#line 805 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->from_command;
#line 805 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp0_ == FALSE) {
#line 3264 "ScreenshotWindow.c"
		gint _tmp1_;
		gint _tmp2_;
#line 806 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp1_ = self->priv->window_x;
#line 806 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp2_ = self->priv->window_y;
#line 806 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_move ((GtkWindow*) self, _tmp1_, _tmp2_);
#line 807 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_present ((GtkWindow*) self);
#line 3275 "ScreenshotWindow.c"
	}
#line 809 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp3_ = self->priv->_redact;
#line 809 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = screenshot_screenshot_window_grab_save (self, _data7_->win, _tmp3_);
#line 809 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 3283 "ScreenshotWindow.c"
}


static gboolean
___lambda23__gsource_func (gpointer self)
{
	gboolean result;
	result = __lambda23_ (self);
#line 804 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 3294 "ScreenshotWindow.c"
}


static void
__lambda22_ (Block7Data* _data7_)
{
	ScreenshotScreenshotWindow* self;
	gint _tmp0_;
	gint _tmp1_;
	gboolean _tmp2_;
#line 799 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = _data7_->self;
#line 800 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->delay;
#line 800 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp0_ == 0) {
#line 801 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		gtk_window_set_opacity ((GtkWindow*) _data7_->selection_area, (gdouble) 0);
#line 3313 "ScreenshotWindow.c"
	}
#line 803 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_widgets_selection_area_close (_data7_->selection_area);
#line 804 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = self->priv->delay;
#line 804 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp2_ = self->priv->_redact;
#line 804 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) screenshot_screenshot_window_get_timeout (self, _tmp1_, _tmp2_), ___lambda23__gsource_func, block7_data_ref (_data7_), block7_data_unref);
#line 3323 "ScreenshotWindow.c"
}


static void
___lambda22__screenshot_widgets_selection_area_captured (ScreenshotWidgetsSelectionArea* _sender,
                                                         gpointer self)
{
#line 799 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	__lambda22_ (self);
#line 3333 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_capture_area (ScreenshotScreenshotWindow* self)
{
	Block7Data* _data7_;
	ScreenshotWidgetsSelectionArea* _tmp0_;
	GdkWindow* _tmp1_;
	GdkWindow* _tmp2_;
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data7_ = g_slice_new0 (Block7Data);
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data7_->_ref_count_ = 1;
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data7_->self = g_object_ref (self);
#line 779 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = screenshot_widgets_selection_area_new ();
#line 779 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_object_ref_sink (_tmp0_);
#line 779 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data7_->selection_area = _tmp0_;
#line 780 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_widget_show_all ((GtkWidget*) _data7_->selection_area);
#line 781 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_remember_window_position (self);
#line 782 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_widget_hide ((GtkWidget*) self);
#line 784 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_signal_connect_data (_data7_->selection_area, "cancelled", (GCallback) ___lambda21__screenshot_widgets_selection_area_cancelled, block7_data_ref (_data7_), (GClosureNotify) block7_data_unref, 0);
#line 797 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = gtk_widget_get_window ((GtkWidget*) _data7_->selection_area);
#line 797 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 797 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data7_->win = _tmp2_;
#line 799 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_signal_connect_data (_data7_->selection_area, "captured", (GCallback) ___lambda22__screenshot_widgets_selection_area_captured, block7_data_ref (_data7_), (GClosureNotify) block7_data_unref, 0);
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	block7_data_unref (_data7_);
#line 778 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_data7_ = NULL;
#line 3378 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_show_error_dialog (ScreenshotScreenshotWindow* self)
{
	GraniteMessageDialog* dialog = NULL;
	GraniteMessageDialog* _tmp0_;
#line 814 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 815 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = granite_message_dialog_new_with_image_from_icon_name (_ ("Could not capture screenshot"), _ ("Image not saved"), "dialog-error", GTK_BUTTONS_CLOSE);
#line 815 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_object_ref_sink (_tmp0_);
#line 815 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	dialog = _tmp0_;
#line 822 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_dialog_run ((GtkDialog*) dialog);
#line 823 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_widget_destroy ((GtkWidget*) dialog);
#line 814 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (dialog);
#line 3401 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_redact_text (ScreenshotScreenshotWindow* self,
                                          gboolean redact)
{
	GSettings* desktop_settings = NULL;
	GSettings* _tmp0_;
#line 826 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 827 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = g_settings_new ("org.gnome.desktop.interface");
#line 827 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	desktop_settings = _tmp0_;
#line 828 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (redact) {
#line 3419 "ScreenshotWindow.c"
		GSettings* _tmp1_;
		gchar* _tmp2_;
		GSettings* _tmp3_;
		gchar* _tmp4_;
		GSettings* _tmp5_;
		gchar* _tmp6_;
		GSettings* _tmp7_;
		GSettings* _tmp8_;
		GSettings* _tmp9_;
#line 829 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp1_ = desktop_settings;
#line 829 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp2_ = g_settings_get_string (_tmp1_, "font-name");
#line 829 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_free0 (self->priv->prev_font_regular);
#line 829 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self->priv->prev_font_regular = _tmp2_;
#line 830 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp3_ = desktop_settings;
#line 830 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp4_ = g_settings_get_string (_tmp3_, "monospace-font-name");
#line 830 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_free0 (self->priv->prev_font_mono);
#line 830 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self->priv->prev_font_mono = _tmp4_;
#line 831 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp5_ = desktop_settings;
#line 831 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp6_ = g_settings_get_string (_tmp5_, "document-font-name");
#line 831 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_g_free0 (self->priv->prev_font_document);
#line 831 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self->priv->prev_font_document = _tmp6_;
#line 833 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp7_ = desktop_settings;
#line 833 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_settings_set_string (_tmp7_, "font-name", "Redacted Script Regular 9");
#line 834 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp8_ = desktop_settings;
#line 834 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_settings_set_string (_tmp8_, "monospace-font-name", "Redacted Script Light 10");
#line 835 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp9_ = desktop_settings;
#line 835 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_settings_set_string (_tmp9_, "document-font-name", "Redacted Script Regular 10");
#line 3465 "ScreenshotWindow.c"
	} else {
		GSettings* _tmp10_;
		const gchar* _tmp11_;
		GSettings* _tmp12_;
		const gchar* _tmp13_;
		GSettings* _tmp14_;
		const gchar* _tmp15_;
#line 837 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp10_ = desktop_settings;
#line 837 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp11_ = self->priv->prev_font_regular;
#line 837 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_settings_set_string (_tmp10_, "font-name", _tmp11_);
#line 838 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp12_ = desktop_settings;
#line 838 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp13_ = self->priv->prev_font_mono;
#line 838 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_settings_set_string (_tmp12_, "monospace-font-name", _tmp13_);
#line 839 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp14_ = desktop_settings;
#line 839 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		_tmp15_ = self->priv->prev_font_document;
#line 839 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_settings_set_string (_tmp14_, "document-font-name", _tmp15_);
#line 3491 "ScreenshotWindow.c"
	}
#line 826 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (desktop_settings);
#line 3495 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_play_shutter_sound (ScreenshotScreenshotWindow* self,
                                                 const gchar* id,
                                                 const gchar* desc)
{
	ca_context* context = NULL;
	ca_proplist* props = NULL;
	ca_context* _tmp0_ = NULL;
	ca_proplist* _tmp1_ = NULL;
#line 843 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 843 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (id != NULL);
#line 843 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (desc != NULL);
#line 847 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	ca_context_create (&_tmp0_);
#line 847 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_ca_context_destroy0 (context);
#line 847 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	context = _tmp0_;
#line 848 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	ca_proplist_create (&_tmp1_);
#line 848 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_ca_proplist_destroy0 (props);
#line 848 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	props = _tmp1_;
#line 850 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	ca_proplist_sets (props, CA_PROP_EVENT_ID, id);
#line 851 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	ca_proplist_sets (props, CA_PROP_EVENT_DESCRIPTION, desc);
#line 852 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	ca_proplist_sets (props, CA_PROP_CANBERRA_CACHE_CONTROL, "permanent");
#line 854 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	ca_context_play_full (context, (guint32) 0, props, NULL, NULL);
#line 843 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_ca_proplist_destroy0 (props);
#line 843 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_ca_context_destroy0 (context);
#line 3538 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_close_clicked (ScreenshotScreenshotWindow* self)
{
#line 857 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 858 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_widget_destroy ((GtkWidget*) self);
#line 3549 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_remember_window_position (ScreenshotScreenshotWindow* self)
{
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
#line 863 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 864 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_get_position ((GtkWindow*) self, &_tmp0_, &_tmp1_);
#line 864 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self->priv->window_x = _tmp0_;
#line 864 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self->priv->window_y = _tmp1_;
#line 3566 "ScreenshotWindow.c"
}


gboolean
screenshot_screenshot_window_get_close_on_save (ScreenshotScreenshotWindow* self)
{
	gboolean result;
	gboolean _tmp0_;
#line 51 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 51 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->_close_on_save;
#line 51 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = _tmp0_;
#line 51 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 3583 "ScreenshotWindow.c"
}


void
screenshot_screenshot_window_set_close_on_save (ScreenshotScreenshotWindow* self,
                                                gboolean value)
{
#line 51 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 51 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (screenshot_screenshot_window_get_close_on_save (self) != value) {
#line 51 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self->priv->_close_on_save = value;
#line 51 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_object_notify_by_pspec ((GObject *) self, screenshot_screenshot_window_properties[SCREENSHOT_SCREENSHOT_WINDOW_CLOSE_ON_SAVE_PROPERTY]);
#line 3599 "ScreenshotWindow.c"
	}
}


gboolean
screenshot_screenshot_window_get_mouse_pointer (ScreenshotScreenshotWindow* self)
{
	gboolean result;
	gboolean _tmp0_;
#line 52 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 52 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->_mouse_pointer;
#line 52 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = _tmp0_;
#line 52 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 3617 "ScreenshotWindow.c"
}


void
screenshot_screenshot_window_set_mouse_pointer (ScreenshotScreenshotWindow* self,
                                                gboolean value)
{
#line 52 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 52 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (screenshot_screenshot_window_get_mouse_pointer (self) != value) {
#line 52 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self->priv->_mouse_pointer = value;
#line 52 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_object_notify_by_pspec ((GObject *) self, screenshot_screenshot_window_properties[SCREENSHOT_SCREENSHOT_WINDOW_MOUSE_POINTER_PROPERTY]);
#line 3633 "ScreenshotWindow.c"
	}
}


gboolean
screenshot_screenshot_window_get_redact (ScreenshotScreenshotWindow* self)
{
	gboolean result;
	gboolean _tmp0_;
#line 53 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 53 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->_redact;
#line 53 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	result = _tmp0_;
#line 53 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return result;
#line 3651 "ScreenshotWindow.c"
}


void
screenshot_screenshot_window_set_redact (ScreenshotScreenshotWindow* self,
                                         gboolean value)
{
#line 53 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_return_if_fail (self != NULL);
#line 53 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (screenshot_screenshot_window_get_redact (self) != value) {
#line 53 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		self->priv->_redact = value;
#line 53 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_object_notify_by_pspec ((GObject *) self, screenshot_screenshot_window_properties[SCREENSHOT_SCREENSHOT_WINDOW_REDACT_PROPERTY]);
#line 3667 "ScreenshotWindow.c"
	}
}


static void
_screenshot_screenshot_window_take_screenshot_clicked_gtk_button_clicked (GtkButton* _sender,
                                                                          gpointer self)
{
#line 81 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_take_screenshot_clicked ((ScreenshotScreenshotWindow*) self);
#line 3678 "ScreenshotWindow.c"
}


static GObject *
screenshot_screenshot_window_constructor (GType type,
                                          guint n_construct_properties,
                                          GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	ScreenshotScreenshotWindow * self;
	gboolean _tmp0_;
	ScreenshotWidgetsHeaderBar* _tmp1_;
	ScreenshotWidgetsHeaderBar* _tmp2_;
	GtkStyleContext* header_context = NULL;
	ScreenshotWidgetsHeaderBar* _tmp3_;
	GtkStyleContext* _tmp4_;
	GtkStyleContext* _tmp5_;
	GtkStyleContext* _tmp6_;
	GtkStyleContext* _tmp7_;
	ScreenshotWidgetsHeaderBar* _tmp8_;
	GtkButton* _tmp9_;
	ScreenshotWidgetsPreviewBox* _tmp10_;
	ScreenshotWidgetsPreviewBox* _tmp11_;
	ScreenshotWidgetsHeaderBar* _tmp12_;
	GtkButton* _tmp13_;
#line 63 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	parent_class = G_OBJECT_CLASS (screenshot_screenshot_window_parent_class);
#line 63 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 63 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SCREENSHOT_TYPE_SCREENSHOT_WINDOW, ScreenshotScreenshotWindow);
#line 64 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp0_ = self->priv->from_command;
#line 64 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	if (_tmp0_) {
#line 65 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		return obj;
#line 3717 "ScreenshotWindow.c"
	}
#line 68 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_set_keep_above ((GtkWindow*) self, TRUE);
#line 69 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_stick ((GtkWindow*) self);
#line 74 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp1_ = screenshot_widgets_header_bar_new ();
#line 74 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_object_ref_sink (_tmp1_);
#line 74 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (self->priv->header);
#line 74 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self->priv->header = _tmp1_;
#line 75 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp2_ = self->priv->header;
#line 75 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_window_set_titlebar ((GtkWindow*) self, (GtkWidget*) _tmp2_);
#line 76 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp3_ = self->priv->header;
#line 76 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp4_ = gtk_widget_get_style_context ((GtkWidget*) _tmp3_);
#line 76 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp5_ = _g_object_ref0 (_tmp4_);
#line 76 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	header_context = _tmp5_;
#line 77 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp6_ = header_context;
#line 77 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_style_context_add_class (_tmp6_, "titlebar");
#line 78 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp7_ = header_context;
#line 78 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_style_context_add_class (_tmp7_, "default-decoration");
#line 81 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp8_ = self->priv->header;
#line 81 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp9_ = _tmp8_->take_screenshot_button;
#line 81 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_signal_connect_object (_tmp9_, "clicked", (GCallback) _screenshot_screenshot_window_take_screenshot_clicked_gtk_button_clicked, self, 0);
#line 84 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp10_ = screenshot_widgets_preview_box_new ();
#line 84 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_object_ref_sink (_tmp10_);
#line 84 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (self->priv->preview_box);
#line 84 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self->priv->preview_box = _tmp10_;
#line 85 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp11_ = self->priv->preview_box;
#line 85 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp11_);
#line 87 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp12_ = self->priv->header;
#line 87 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_tmp13_ = _tmp12_->take_screenshot_button;
#line 87 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	gtk_button_clicked (_tmp13_);
#line 63 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (header_context);
#line 63 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	return obj;
#line 3779 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_class_init (ScreenshotScreenshotWindowClass * klass)
{
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	screenshot_screenshot_window_parent_class = g_type_class_peek_parent (klass);
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_type_class_add_private (klass, sizeof (ScreenshotScreenshotWindowPrivate));
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_screenshot_screenshot_window_get_property;
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_screenshot_screenshot_window_set_property;
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	G_OBJECT_CLASS (klass)->constructor = screenshot_screenshot_window_constructor;
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	G_OBJECT_CLASS (klass)->finalize = screenshot_screenshot_window_finalize;
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SCREENSHOT_SCREENSHOT_WINDOW_CLOSE_ON_SAVE_PROPERTY, screenshot_screenshot_window_properties[SCREENSHOT_SCREENSHOT_WINDOW_CLOSE_ON_SAVE_PROPERTY] = g_param_spec_boolean ("close-on-save", "close-on-save", "close-on-save", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SCREENSHOT_SCREENSHOT_WINDOW_MOUSE_POINTER_PROPERTY, screenshot_screenshot_window_properties[SCREENSHOT_SCREENSHOT_WINDOW_MOUSE_POINTER_PROPERTY] = g_param_spec_boolean ("mouse-pointer", "mouse-pointer", "mouse-pointer", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SCREENSHOT_SCREENSHOT_WINDOW_REDACT_PROPERTY, screenshot_screenshot_window_properties[SCREENSHOT_SCREENSHOT_WINDOW_REDACT_PROPERTY] = g_param_spec_boolean ("redact", "redact", "redact", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 3804 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_instance_init (ScreenshotScreenshotWindow * self)
{
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self->priv = SCREENSHOT_SCREENSHOT_WINDOW_GET_PRIVATE (self);
#line 3813 "ScreenshotWindow.c"
}


static void
screenshot_screenshot_window_finalize (GObject * obj)
{
	ScreenshotScreenshotWindow * self;
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SCREENSHOT_TYPE_SCREENSHOT_WINDOW, ScreenshotScreenshotWindow);
#line 36 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (self->priv->header);
#line 37 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (self->priv->preview_box);
#line 40 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_object_unref0 (self->priv->settings);
#line 42 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_free0 (self->priv->prev_font_regular);
#line 43 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_free0 (self->priv->prev_font_document);
#line 44 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	_g_free0 (self->priv->prev_font_mono);
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	G_OBJECT_CLASS (screenshot_screenshot_window_parent_class)->finalize (obj);
#line 3837 "ScreenshotWindow.c"
}


GType
screenshot_screenshot_window_get_type (void)
{
	static volatile gsize screenshot_screenshot_window_type_id__volatile = 0;
	if (g_once_init_enter (&screenshot_screenshot_window_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ScreenshotScreenshotWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) screenshot_screenshot_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ScreenshotScreenshotWindow), 0, (GInstanceInitFunc) screenshot_screenshot_window_instance_init, NULL };
		GType screenshot_screenshot_window_type_id;
		screenshot_screenshot_window_type_id = g_type_register_static (gtk_application_window_get_type (), "ScreenshotScreenshotWindow", &g_define_type_info, 0);
		g_once_init_leave (&screenshot_screenshot_window_type_id__volatile, screenshot_screenshot_window_type_id);
	}
	return screenshot_screenshot_window_type_id__volatile;
}


static void
_vala_screenshot_screenshot_window_get_property (GObject * object,
                                                 guint property_id,
                                                 GValue * value,
                                                 GParamSpec * pspec)
{
	ScreenshotScreenshotWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SCREENSHOT_TYPE_SCREENSHOT_WINDOW, ScreenshotScreenshotWindow);
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	switch (property_id) {
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_CLOSE_ON_SAVE_PROPERTY:
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_value_set_boolean (value, screenshot_screenshot_window_get_close_on_save (self));
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_MOUSE_POINTER_PROPERTY:
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_value_set_boolean (value, screenshot_screenshot_window_get_mouse_pointer (self));
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_REDACT_PROPERTY:
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		g_value_set_boolean (value, screenshot_screenshot_window_get_redact (self));
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 3883 "ScreenshotWindow.c"
		default:
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 3889 "ScreenshotWindow.c"
	}
}


static void
_vala_screenshot_screenshot_window_set_property (GObject * object,
                                                 guint property_id,
                                                 const GValue * value,
                                                 GParamSpec * pspec)
{
	ScreenshotScreenshotWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SCREENSHOT_TYPE_SCREENSHOT_WINDOW, ScreenshotScreenshotWindow);
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
	switch (property_id) {
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_CLOSE_ON_SAVE_PROPERTY:
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_set_close_on_save (self, g_value_get_boolean (value));
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_MOUSE_POINTER_PROPERTY:
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_set_mouse_pointer (self, g_value_get_boolean (value));
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		case SCREENSHOT_SCREENSHOT_WINDOW_REDACT_PROPERTY:
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		screenshot_screenshot_window_set_redact (self, g_value_get_boolean (value));
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 3922 "ScreenshotWindow.c"
		default:
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 22 "/home/ronny/Downloads/snipfire/src/ScreenshotWindow.vala"
		break;
#line 3928 "ScreenshotWindow.c"
	}
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



